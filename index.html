<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top Girl Team Builder</title>
    <!-- Leaflet CSS for interactive map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --accent-color: #ffe66d;
            --dark-color: #2c2c2c;
            --light-color: #f7fff7;
            --hover-color: #ff8e8e;
            /* Changed UR color to light red */
            --ur-color: #ff9999;
            /* Changed SSR color to yellow gold */
            --ssr-color: #ffd700;
            --skill1-color: #a9a9a9; /* Grey */
            --skill2-color: #90ee90; /* Green */
            --skill3-color: #87cefa; /* Blue */
            --skill4-color: #da70d6; /* Purple */
            --skill5-color: #ffd700; /* Gold */
            --purple-equip: #a374db; /* Purple equipment */
            --gold-equip: #ffd700; /* Gold equipment */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light-color);
            color: var(--dark-color);
            line-height: 1.6;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            width: 100%;
        }

        nav {
            background-color: var(--dark-color);
            display: flex;
            justify-content: center;
            padding: 0.5rem;
            position: sticky;
            top: 4rem;
            z-index: 99;
            flex-wrap: wrap;
            width: 100%;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            margin: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        nav a:hover {
            background-color: var(--primary-color);
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        section {
            margin-bottom: 3rem;
            padding: 1.5rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        h2 {
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
        }

        p {
            margin-bottom: 1rem;
        }
        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .character-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }

        .character-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Updated border colors for UR and SSR */
        .character-card.ur {
            border: 2px solid var(--ur-color);
        }

        .character-card.ssr {
            border: 2px solid var(--ssr-color);
        }

        .character-header {
            padding: 1rem;
            color: white;
            position: relative;
        }

        /* Updated background colors for UR and SSR headers */
        .ur .character-header {
            background-color: var(--ur-color);
        }

        .ssr .character-header {
            background-color: var(--ssr-color);
            color: #2c2c2c; /* Darker text for better contrast on gold */
        }

        .character-info {
            padding: 1rem;
        }

        .character-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .character-skills {
            margin-top: 1rem;
        }

        .skill {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .skill.level1 {
            background-color: var(--skill1-color);
            color: white;
        }

        .skill.level2 {
            background-color: var(--skill2-color);
        }

        .skill.level3 {
            background-color: var(--skill3-color);
        }

        .skill.level4 {
            background-color: var(--skill4-color);
            color: white;
        }

        .skill.level5 {
            background-color: var(--skill5-color);
        }

        .type-badge {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .ur .type-badge {
            background-color: white;
            color: var(--ur-color);
        }

        .ssr .type-badge {
            background-color: white;
            color: var(--dark-color);
        }

        .genre-badge {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            background-color: var(--secondary-color);
            color: white;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
        }

        .position-badge {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            background-color: var(--accent-color);
            color: var(--dark-color);
            font-size: 0.8rem;
            margin-left: 0.5rem;
        }

        .attribute-badge {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            background-color: var(--primary-color);
            color: white;
            font-size: 0.8rem;
            margin-left: 0.5rem;
        }

        .team-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .team-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .team-header {
            background-color: var(--secondary-color);
            color: white;
            padding: 1rem;
            text-align: center;
        }

        .team-members {
            padding: 1rem;
        }

        .team-stats {
            background-color: var(--light-color);
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 4px;
        }

        .team-member {
            display: flex;
            align-items: center;
            padding: 0.5rem;
            border-bottom: 1px solid #eee;
        }

        .team-member:last-child {
            border-bottom: none;
        }

        .member-type {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: bold;
            color: white;
        }

        /* Updated member-type colors */
        .member-type.ur {
            background-color: var(--ur-color);
            color: #2c2c2c;
        }

        .member-type.ssr {
            background-color: var(--ssr-color);
            color: #2c2c2c;
        }
.calculator {
            padding: 2rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .character-selection {
            border-right: 1px solid #eee;
            padding-right: 2rem;
        }

        .team-preview {
            padding-left: 2rem;
        }

        .filter-controls {
            margin-bottom: 1.5rem;
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-group {
            margin-bottom: 1rem;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        select, button {
            padding: 0.5rem 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
            font-size: 1rem;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: var(--hover-color);
        }

        .character-select {
            margin-bottom: 1rem;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            max-height: 300px;
            overflow-y: auto;
        }

        .character-option {
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .character-option:hover {
            background-color: #f0f0f0;
        }

        .selected-characters {
            margin-top: 1rem;
        }

        .selected-character {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background-color: #f0f0f0;
            border-radius: 4px;
            margin-bottom: 0.5rem;
        }

        .remove-character {
            color: var(--primary-color);
            cursor: pointer;
            font-weight: bold;
        }

        .team-stats-result {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: #f0f0f0;
            border-radius: 4px;
        }

        .synergy-bonus {
            margin-top: 1rem;
            padding: 0.5rem;
            background-color: var(--accent-color);
            border-radius: 4px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            overflow-x: auto;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        th {
            background-color: var(--secondary-color);
            color: white;
        }

        tr:hover {
            background-color: #f5f5f5;
        }

        .skill-info {
            margin-top: 1rem;
        }

        .skill-info h3 {
            color: var(--secondary-color);
        }

        .skill-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1rem 0;
        }

        .skill-level {
            display: flex;
            align-items: center;
        }

        .skill-level-color {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 4px;
            margin-right: 0.5rem;
        }

        .tabs {
            display: flex;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.5rem 1rem;
            background-color: #f0f0f0;
            cursor: pointer;
            border-radius: 4px 4px 0 0;
            margin-right: 0.25rem;
            margin-bottom: 0.25rem;
        }

        .tab.active {
            background-color: var(--secondary-color);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
        /* Equipment styles */
        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .equipment-card {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .equipment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .equipment-card.gold {
            border: 2px solid var(--gold-equip);
        }

        .equipment-card.purple {
            border: 2px solid var(--purple-equip);
        }

        .equipment-header {
            padding: 0.75rem;
            color: white;
            position: relative;
        }

        .gold .equipment-header {
            background-color: var(--gold-equip);
            color: #2c2c2c;
        }

        .purple .equipment-header {
            background-color: var(--purple-equip);
        }

        .equipment-info {
            padding: 1rem;
        }

        .equipment-stats {
            margin-top: 0.5rem;
        }

        .equipment-type-badge {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.8rem;
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
        }

        .gold .equipment-type-badge {
            background-color: white;
            color: var(--gold-equip);
        }

        .purple .equipment-type-badge {
            background-color: white;
            color: var(--purple-equip);
        }

        /* Equipment selector styles */
        .equipment-selector {
            margin-top: 1rem;
            border-top: 1px solid #eee;
            padding-top: 1rem;
        }

        .equipment-selector h4 {
            margin-bottom: 0.5rem;
        }

        .equipment-dropdown {
            width: 100%;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
        }

        /* Table overflow handling */
        .table-container {
            width: 100%;
            overflow-x: auto;
        }
        
        /* Genre Colors */
        .rnb {
            border-left: 5px solid #ff6b6b;
        }
        
        .rock {
            border-left: 5px solid #4ecdc4;
        }
        
        .pop {
            border-left: 5px solid #ffe66d;
        }
        
        .edm {
            border-left: 5px solid #a374db;
        }
        
        .hiphop {
            border-left: 5px solid #66c6ba;
        }
        
        /* Updated UR and SSR row styling */
        .ur-row {
            background-color: rgba(255, 153, 153, 0.1) !important;
        }
        
        .ur-row:hover {
            background-color: rgba(255, 153, 153, 0.2) !important;
        }
        
        .ur-badge {
            background-color: var(--ur-color);
            color: #333;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .ssr-badge {
            background-color: var(--ssr-color);
            color: #333;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        /* Star rating display */
        .stars {
            color: gold;
            font-size: 1.2rem;
        }
        
        /* Footer styles */
        footer {
            background-color: var(--dark-color);
            color: white;
            text-align: center;
            padding: 1rem;
            margin-top: 2rem;
        }

        /* Map styles */
        .map-container {
            margin: 1rem 0;
            padding: 1rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .map-controls {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }
        
        .map-button {
            padding: 0.5rem 1rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .map-button:hover {
            background-color: var(--hover-color);
        }
        
        .map-select {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .marker-popup {
            text-align: center;
        }
        
        .marker-popup input {
            margin: 0.5rem 0;
            padding: 0.5rem;
            width: 100%;
        }

        /* Custom map marker styles */
        .custom-marker {
            background-color: #fff;
            border: 2px solid #000;
            border-radius: 50%;
            text-align: center;
            color: #000;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .custom-marker.resource { 
            background-color: #4cd964; 
            border-color: #2eb944;
        }
        
        .custom-marker.enemy { 
            background-color: #ff3b30; 
            border-color: #d91d12;
            color: white;
        }
        
        .custom-marker.landmark { 
            background-color: #ffcc00; 
            border-color: #d6a900;
        }
        
        .custom-marker.direction { 
            background-color: #007aff; 
            border-color: #0055cc;
            color: white;
        }
/* Responsive design */
        @media (max-width: 768px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }

            .character-selection {
                border-right: none;
                padding-right: 0;
                border-bottom: 1px solid #eee;
                padding-bottom: 2rem;
                margin-bottom: 2rem;
            }

            .team-preview {
                padding-left: 0;
            }

            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                margin-bottom: 0.5rem;
            }
            
            .table-container {
                max-width: 100%;
                overflow-x: auto;
            }
            
            table {
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 0.5rem;
            }
        }
    </style>
</head>
<div id="password-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); z-index: 1000; display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <div style="background-color: white; padding: 2rem; border-radius: 8px; max-width: 400px; width: 90%;">
        <h2 style="color: var(--primary-color); text-align: center;">Top Girl Team Builder</h2>
        <p style="margin: 1rem 0; text-align: center;">Please enter the password to access the team builder:</p>
        <input type="password" id="password-input" style="width: 100%; padding: 0.75rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 4px;">
        <p id="password-error" style="color: red; display: none; text-align: center;">Incorrect password. Please try again.</p>
        <button id="password-submit" style="width: 100%; padding: 0.75rem; background-color: var(--primary-color); color: white; border: none; border-radius: 4px; cursor: pointer;">Enter</button>
    </div>
</div>

<script>
    // Password protection
    document.addEventListener('DOMContentLoaded', function() {
        const correctPassword = "iloveflex"; // Password set to "ilove flex"
        const passwordOverlay = document.getElementById('password-overlay');
        const passwordInput = document.getElementById('password-input');
        const passwordSubmit = document.getElementById('password-submit');
        const passwordError = document.getElementById('password-error');
        
        // Check if the user has already entered the correct password
        const hasAccess = localStorage.getItem('topGirlTeamBuilderAccess');
        if (hasAccess === 'true') {
            passwordOverlay.style.display = 'none';
        }
        
        // Listen for Enter key on password input
        passwordInput.addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                checkPassword();
            }
        });
        
        // Listen for click on submit button
        passwordSubmit.addEventListener('click', checkPassword);
        
        function checkPassword() {
            const enteredPassword = passwordInput.value;
            
            if (enteredPassword === correctPassword) {
                // Password is correct
                passwordOverlay.style.display = 'none';
                // Store access in localStorage so the user doesn't have to enter it again
                localStorage.setItem('topGirlTeamBuilderAccess', 'true');
            } else {
                // Password is incorrect
                passwordError.style.display = 'block';
                passwordInput.value = '';
                setTimeout(() => {
                    passwordError.style.display = 'none';
                }, 3000);
            }
        }
    });
</script>
<body>
    <div id="google_translate_element" style="position: fixed; top: 10px; right: 10px; z-index: 1000;"></div>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'en,zh-CN,id,fr,de',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <header>
        <h1>Top Girl Team Builder</h1>
        <p>Build the perfect Top Girl team with optimized synergy bonuses</p>
    </header>

    <nav>
    <a href="#characters">Characters</a>
    <a href="#calculator">Team Calculator</a>
    <a href="#recommended-teams">Recommended Teams</a>
    <a href="#equipment">Equipment</a>
    <a href="#game-map">Game Map</a>
    <a href="#game-info">Game Info</a>
    <a href="#skills">Skills & Bonuses</a>
    <a href="#leveling">Leveling Guide</a>
    <a href="#vehicles">Vehicle System</a>
    <a href="#regional-teams">Regional Teams</a>
</nav>

    <main>
<!-- New Equipment Section -->
        <section id="equipment">
            <h2>Equipment</h2>
            <p>Enhance your team with Jewelry, Cars, and Properties that boost your characters' stats.</p>
            
            <div class="tabs">
                <div class="tab active" data-tab="jewelry">Jewelry</div>
                <div class="tab" data-tab="cars">Cars</div>
                <div class="tab" data-tab="properties">Properties</div>
                <div class="tab" data-tab="equipment-table">Equipment Table</div>
            </div>
            
            <div class="tab-content active" id="jewelry-content">
                <h3>Jewelry</h3>
                <p>Jewelry items provide smaller stat boosts but are more affordable.</p>
                
                <div class="equipment-grid">
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Ring</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+2,015</strong> Sing</p>
                                <p><strong>+11,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Choker</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+2,015</strong> Dance</p>
                                <p><strong>+11,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Heels</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+806</strong> Management</p>
                                <p><strong>+11,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Watch</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+1,640</strong> Sing</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Bracelet</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+1,640</strong> Dance</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Lingerie</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+656</strong> Management</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="cars-content">
                <h3>Cars</h3>
                <p>Cars provide medium stat boosts and fan capacity increases.</p>
                
                <div class="equipment-grid">
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Audi</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+5,905</strong> Sing</p>
                                <p><strong>+25,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Lamborghini</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+5,905</strong> Dance</p>
                                <p><strong>+25,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Lexus</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+2,362</strong> Management</p>
                                <p><strong>+25,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Lotus</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+4,030</strong> Sing</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Beetle</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+4,030</strong> Dance</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Cooper</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+1,612</strong> Management</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
<div class="tab-content" id="properties-content">
                <h3>Properties</h3>
                <p>Properties provide the largest stat boosts and fan capacity increases.</p>
                
                <div class="equipment-grid">
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Villa</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+11,810</strong> Sing</p>
                                <p><strong>+50,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Park Mansion</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+11,810</strong> Dance</p>
                                <p><strong>+50,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card gold">
                        <div class="equipment-header">
                            <h3>Country Manor</h3>
                            <span class="equipment-type-badge">GOLD</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+4,724</strong> Management</p>
                                <p><strong>+50,000</strong> Fans</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Penthouse</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+8,060</strong> Sing</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="equipment-card purple">
                        <div class="equipment-header">
                            <h3>Loft</h3>
                            <span class="equipment-type-badge">PURPLE</span>
                        </div>
                        <div class="equipment-info">
                            <div class="equipment-stats">
                                <p><strong>+8,060</strong> Dance</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="equipment-table-content">
                <h3>Equipment Table</h3>
                <p>Complete overview of all equipment items and their stats.</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Name</th>
                                <th>Rarity</th>
                                <th>Sing</th>
                                <th>Dance</th>
                                <th>Management</th>
                                <th>Fans</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Jewelry -->
                            <tr>
                                <td>Jewelry</td>
                                <td>Ring</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>+2,015</td>
                                <td>-</td>
                                <td>-</td>
                                <td>+11,000</td>
                            </tr>
                            <tr>
                                <td>Jewelry</td>
                                <td>Choker</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>-</td>
                                <td>+2,015</td>
                                <td>-</td>
                                <td>+11,000</td>
                            </tr>
                            <tr>
                                <td>Jewelry</td>
                                <td>Heels</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>-</td>
                                <td>-</td>
                                <td>+806</td>
                                <td>+11,000</td>
                            </tr>
                            <tr>
                                <td>Jewelry</td>
                                <td>Watch</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>+1,640</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Jewelry</td>
                                <td>Bracelet</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>-</td>
                                <td>+1,640</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Jewelry</td>
                                <td>Lingerie</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>-</td>
                                <td>-</td>
                                <td>+656</td>
                                <td>-</td>
                            </tr>
                            
                            <!-- Cars -->
                            <tr>
                                <td>Car</td>
                                <td>Audi</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>+5,905</td>
                                <td>-</td>
                                <td>-</td>
                                <td>+25,000</td>
                            </tr>
                            <tr>
                                <td>Car</td>
                                <td>Lamborghini</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>-</td>
                                <td>+5,905</td>
                                <td>-</td>
                                <td>+25,000</td>
                            </tr>
                            <tr>
                                <td>Car</td>
                                <td>Lexus</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>-</td>
                                <td>-</td>
                                <td>+2,362</td>
                                <td>+25,000</td>
                            </tr>
                            <tr>
                                <td>Car</td>
                                <td>Lotus</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>+4,030</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Car</td>
                                <td>Beetle</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>-</td>
                                <td>+4,030</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Car</td>
                                <td>Cooper</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>-</td>
                                <td>-</td>
                                <td>+1,612</td>
                                <td>-</td>
                            </tr>
<!-- Properties -->
                            <tr>
                                <td>Property</td>
                                <td>Villa</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>+11,810</td>
                                <td>-</td>
                                <td>-</td>
                                <td>+50,000</td>
                            </tr>
                            <tr>
                                <td>Property</td>
                                <td>Park Mansion</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>-</td>
                                <td>+11,810</td>
                                <td>-</td>
                                <td>+50,000</td>
                            </tr>
                            <tr>
                                <td>Property</td>
                                <td>Country Manor</td>
                                <td><span style="color: var(--gold-equip); font-weight: bold;">GOLD</span></td>
                                <td>-</td>
                                <td>-</td>
                                <td>+4,724</td>
                                <td>+50,000</td>
                            </tr>
                            <tr>
                                <td>Property</td>
                                <td>Penthouse</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>+8,060</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>Property</td>
                                <td>Loft</td>
                                <td><span style="color: var(--purple-equip); font-weight: bold;">PURPLE</span></td>
                                <td>-</td>
                                <td>+8,060</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Game Map Section -->
        <section id="game-map">
            <h2>Interactive Game Map</h2>
            <p>Explore the game world, add markers for resource locations, and plan your strategy.</p>
            
            <div class="map-container">
                <div id="top-girl-map" style="height: 600px; width: 100%; border-radius: 8px;"></div>
            </div>
            
            <div class="map-controls">
                <button id="add-marker" class="map-button">Add Marker</button>
                <button id="clear-markers" class="map-button">Clear Markers</button>
                <select id="marker-type" class="map-select">
                    <option value="resource">Resource</option>
                    <option value="enemy">Enemy</option>
                    <option value="direction">Build Direction</option>
                    <option value="landmark">Landmark</option>
                </select>
                <select id="marker-size" class="map-select">
                    <option value="small">Small</option>
                    <option value="medium" selected>Medium</option>
                    <option value="large">Large</option>
                </select>
            </div>
            
            <div class="map-info" style="margin-top: 1rem; padding: 1rem; background-color: var(--light-color); border-radius: 8px;">
                <h3>Map Regions</h3>
                <p>The map is divided into six Chambers, each with unique resources and challenges:</p>
                <ul>
                    <li><strong>South-West:</strong> Jimbaran Chamber</li>
                    <li><strong>South-East:</strong> Tanah Chamber</li>
                    <li><strong>East:</strong> Seminyak Chamber</li>
                    <li><strong>North-East:</strong> Uluwatu Chamber</li>
                    <li><strong>North-West:</strong> Ubud Chamber</li>
                    <li><strong>West:</strong> Kuta Chamber</li>
                </ul>
                
                <h3 style="margin-top: 1rem;">UR Locations</h3>
                <p>Three special UR locations can be found in the central region:</p>
                <ul>
                    <li><strong>Paradise Bay:</strong> North region</li>
                    <li><strong>Emerald Coast:</strong> Southeast region</li>
                    <li><strong>Royal Garden:</strong> Southwest region</li>
                </ul>
            </div>
        </section>

<!-- Calculator Section -->
        <section id="calculator">
            <h2>Team Calculator</h2>
            <p>Build your optimal team and calculate synergy bonuses and total stats, including equipment bonuses.</p>
            
            <div class="calculator">
                <div class="calculator-grid">
                    <div class="character-selection">
                        <h3>Select Characters</h3>
                        <div class="filter-controls">
                            <div class="filter-group">
                                <label for="genre-filter">Genre:</label>
                                <select id="genre-filter">
                                    <option value="all">All Genres</option>
                                    <option value="R&B">R&B</option>
                                    <option value="ROCK">Rock</option>
                                    <option value="POP">Pop</option>
                                    <option value="EDM">EDM</option>
                                    <option value="HipHop">Hip Hop</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label for="type-filter">Type:</label>
                                <select id="type-filter">
                                    <option value="all">All Types</option>
                                    <option value="UR">UR</option>
                                    <option value="SSR">SSR</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label for="position-filter">Position:</label>
                                <select id="position-filter">
                                    <option value="all">All Positions</option>
                                    <option value="Vocalist">Vocalist</option>
                                    <option value="Dancer">Dancer</option>
                                    <option value="Center">Center</option>
                                </select>
                            </div>
                        </div>
<div class="character-select" id="character-selection-list">
                            <!-- Character options will be populated by JavaScript -->
                        </div>
                        
                        <h3>Selected Team (0/5)</h3>
                        <div class="selected-characters" id="selected-team">
                            <!-- Selected characters will appear here -->
                            <p id="no-characters-message">No characters selected yet. Add up to 5 characters to your team.</p>
                        </div>
                    </div>
                    
                    <div class="team-preview">
                        <h3>Team Stats</h3>
                        <div class="team-stats-result" id="team-stats">
                            <p>Base Stats:</p>
                            <ul>
                                <li>Total Sing (Attack): 0</li>
                                <li>Total Dance (Defense): 0</li>
                            </ul>
                            
                            <div id="equipment-stats" style="margin-top: 0.5rem;">
                                <p>Equipment Bonuses:</p>
                                <ul>
                                    <li>Jewelry: +0 Sing, +0 Dance</li>
                                    <li>Cars: +0 Sing, +0 Dance</li>
                                    <li>Properties: +0 Sing, +0 Dance</li>
                                    <li>Total Fans: +0</li>
                                </ul>
                            </div>
                            
                            <div class="synergy-bonus" id="synergy-info" style="margin-top: 0.5rem;">
                                <p>Genre Synergy: None</p>
                                <p>Synergy Bonus: +0%</p>
                            </div>
                            
                            <p>Final Stats (with all bonuses):</p>
                            <ul>
                                <li>Final Sing (Attack): 0</li>
                                <li>Final Dance (Defense): 0</li>
                                <li>Total Fan Capacity: 0</li>
                            </ul>
                        </div>
                        
                        <div id="team-skills">
                            <h3>Team Skills</h3>
                            <ul id="skill-summary">
                                <li>No skills to display. Add characters to your team.</li>
                            </ul>
                        </div>
                        
                        <div id="team-composition-warning" style="margin-top: 1rem; color: var(--primary-color);"></div>
                        
                        <button id="reset-team" style="margin-top: 1rem;">Reset Team</button>
                        <button id="reset-equipment" style="margin-top: 1rem; margin-left: 0.5rem;">Reset Equipment</button>
                        <button id="recommend-equipment" style="margin-top: 1rem; margin-left: 0.5rem;">Recommend Balanced Equipment</button>
                    </div>
                </div>
                
                <div style="margin-top: 2rem;">
                    <h3>Preset Teams</h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.5rem;">
                        <button id="load-rnb-team">Load R&B Team</button>
                        <button id="load-balanced-team">Load Balanced Team</button>
                        <button id="load-defense-team">Load Defense Team</button>
                        <button id="load-bali-team">Load Bali Team</button>
                        <button id="load-tokyo-team">Load Tokyo Team</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Regional Teams Section -->
        <section id="regional-teams">
            <h2>Regional Teams</h2>
            <p>Teams formed with characters from specific regions.</p>
            
            <div class="tabs">
                <div class="tab active" data-tab="bali-teams">Bali Teams</div>
                <div class="tab" data-tab="tokyo-teams">Tokyo Teams</div>
            </div>
            
            <div class="tab-content active" id="bali-teams-content">
                <h3>Bali Region Teams</h3>
                <p>Characters from Bali can link with Bali UR characters for enhanced effects.</p>
                
                <div class="team-card">
                    <div class="team-header">
                        <h3>Bali Dream Team</h3>
                    </div>
                    <div class="team-members">
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Moana</strong>
                                <div><small>POP | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                                <div><small>Reduce Skill DMG -12%, Reduce Normal Attack DMG -12%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Sari</strong><span style="color: var(--primary-color); font-size: 0.8rem; font-weight: bold; margin-left: 0.5rem;">(Warm-up Limited)</span>
                                <div><small>EDM | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                                <div><small>Player DMG +20%, Rally Cap +10%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Leilani</strong>
                                <div><small>HipHop | Dancer | Sing: 7,735 | Dance: 13,513</small></div>
                                <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Ratih</strong>
                                <div><small>R&B | Dancer | Sing: 7,735 | Dance: 13,513</small></div>
                                <div><small>Normal DMG +50%, Reduce Normal Attack DMG -12%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Talia</strong>
                                <div><small>ROCK | Center | Sing: 10,625 | Dance: 10,625</small></div>
                                <div><small>Normal DMG +50%, Fan Cap +10%</small></div>
                            </div>
                        </div>
                    </div>
                    <div class="team-stats">
                        <p><strong>Region Synergy:</strong> Bali characters can link with Bali UR units</p>
                        <p><strong>Total Base Sing:</strong> 53,121</p>
                        <p><strong>Total Base Dance:</strong> 53,121</p>
                        <p><strong>Key Skills:</strong> Normal DMG +150%, Reduce DMG -24%, Skill DMG +20%</p>
                        <p><strong>Equipment Focus:</strong> Balanced mix of Sing and Dance equipment</p>
                    </div>
                </div>
<h4 style="margin-top: 2rem;">Recommended Bali Equipment Setup</h4>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Character</th>
                                <th>Gold Equipment</th>
                                <th>Purple Alternative</th>
                                <th>Stats Focus</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Moana</strong><br/><small>Vocalist</small></td>
                                <td>Ring + Audi + Villa</td>
                                <td>Watch + Lotus + Penthouse</td>
                                <td>Balanced with slight Sing focus to maximize Sing while maintaining defenses</td>
                            </tr>
                            <tr>
                                <td><strong>Sari</strong><br/><small>Vocalist</small></td>
                                <td>Ring + Audi + Villa</td>
                                <td>Watch + Lotus + Penthouse</td>
                                <td>Balanced focus to enhance Player DMG +20%</td>
                            </tr>
                            <tr>
                                <td><strong>Talia</strong><br/><small>Center</small></td>
                                <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                                <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                                <td>True balance as Center position with equal Sing/Dance base stats</td>
                            </tr>
                            <tr>
                                <td><strong>Leilani</strong><br/><small>Dancer</small></td>
                                <td>Choker + Lamborghini + Park Mansion</td>
                                <td>Bracelet + Beetle + Loft</td>
                                <td>Balanced with slight Dance focus to maximize defense</td>
                            </tr>
                            <tr>
                                <td><strong>Ratih</strong><br/><small>Dancer</small></td>
                                <td>Choker + Lamborghini + Park Mansion</td>
                                <td>Bracelet + Beetle + Loft</td>
                                <td>Balanced with slight Dance focus to enhance Reduce Normal Attack DMG</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="tab-content" id="tokyo-teams-content">
                <h3>Tokyo Region Teams</h3>
                <p>Characters from Tokyo can link with Tokyo UR characters for enhanced effects.</p>
                
                <div class="team-card">
                    <div class="team-header">
                        <h3>Tokyo Dream Team</h3>
                    </div>
                    <div class="team-members">
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Yuuko</strong>
                                <div><small>ROCK | Dancer | Sing: 7,735 | Dance: 13,513</small></div>
                                <div><small>Normal DMG +50%, Reduce Normal Attack DMG -12%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Chizuru</strong><span style="color: var(--primary-color); font-size: 0.8rem; font-weight: bold; margin-left: 0.5rem;">(Warm-up Limited)</span>
                                <div><small>POP | Center | Sing: 10,625 | Dance: 10,625</small></div>
                                <div><small>Player DMG +20%, Rally Cap +10%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Kokoro</strong>
                                <div><small>EDM | Center | Sing: 10,625 | Dance: 10,625</small></div>
                                <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Ayaka</strong>
                                <div><small>HipHop | Center | Sing: 13,513 | Dance: 7,735</small></div>
                                <div><small>Reduce Skill DMG -12%, Reduce Normal Attack DMG -12%</small></div>
                            </div>
                        </div>
                        <div class="team-member">
                            <div class="member-type ssr">SSR</div>
                            <div>
                                <strong>Sora</strong>
                                <div><small>R&B | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                                <div><small>Normal DMG +50%, Fan Cap +10%</small></div>
                            </div>
                        </div>
                    </div>
                    <div class="team-stats">
                        <p><strong>Region Synergy:</strong> Tokyo characters can link with Tokyo UR units</p>
                        <p><strong>Total Base Sing:</strong> 56,011</p>
                        <p><strong>Total Base Dance:</strong> 50,233</p>
                        <p><strong>Key Skills:</strong> Normal DMG +150%, Reduce DMG -24%, Player DMG +20%, Skill DMG +20%</p>
                        <p><strong>Equipment Focus:</strong> Balanced mix with slight Dance focus to equalize stats</p>
                    </div>
                </div>
                
                <h4 style="margin-top: 2rem;">Recommended Tokyo Equipment Setup</h4>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Character</th>
                                <th>Gold Equipment</th>
                                <th>Purple Alternative</th>
                                <th>Stats Focus</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Sora</strong><br/><small>Vocalist</small></td>
                                <td>Ring + Audi + Villa</td>
                                <td>Watch + Lotus + Penthouse</td>
                                <td>Balanced sing focus to maximize Normal DMG +50%</td>
                            </tr>
                            <tr>
                                <td><strong>Chizuru</strong><br/><small>Center</small></td>
                                <td>Choker + Lamborghini + Park Mansion</td>
                                <td>Bracelet + Beetle + Loft</td>
                                <td>Balance with dance focus to even out team stats</td>
                            </tr>
                            <tr>
                                <td><strong>Kokoro</strong><br/><small>Center</small></td>
                                <td>Choker + Lamborghini + Park Mansion</td>
                                <td>Bracelet + Beetle + Loft</td>
                                <td>Balance with dance focus to even out team stats</td>
                            </tr>
                            <tr>
                                <td><strong>Ayaka</strong><br/><small>Center</small></td>
                                <td>Choker + Lamborghini + Park Mansion</td>
                                <td>Bracelet + Beetle + Loft</td>
                                <td>Balance with dance focus to enhance defensive capabilities</td>
                            </tr>
                            <tr>
                                <td><strong>Yuuko</strong><br/><small>Dancer</small></td>
                                <td>Choker + Lamborghini + Park Mansion</td>
                                <td>Bracelet + Beetle + Loft</td>
                                <td>Dance focus to maximize Reduce Normal Attack DMG -12%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
<!-- Leveling Guide Section -->
        <section id="leveling">
            <h2>Leveling Guide</h2>
            <p>Understanding the requirements for character and facility upgrades.</p>
            
            <div class="tabs">
                <div class="tab active" data-tab="ssr-leveling">SSR Character Leveling</div>
                <div class="tab" data-tab="blueprint-reqs">Blueprint Requirements</div>
                <div class="tab" data-tab="hq-upgrade">HQ Upgrade Guide</div>
            </div>
            
            <div class="tab-content active" id="ssr-leveling-content">
                <h3>SSR Character Level Up Requirements</h3>
                <p>These are the gold card requirements for each level cap for SSR girls.</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Required Gold Cards</th>
                                <th>Total Cards</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Level 20</td>
                                <td>50</td>
                                <td>50</td>
                            </tr>
                            <tr>
                                <td>Level 30</td>
                                <td>100</td>
                                <td>150</td>
                            </tr>
                            <tr>
                                <td>Level 40</td>
                                <td>200</td>
                                <td>350</td>
                            </tr>
                            <tr>
                                <td>Level 50</td>
                                <td>450</td>
                                <td>800</td>
                            </tr>
                            <tr>
                                <td>Level 60</td>
                                <td>700</td>
                                <td>1,500</td>
                            </tr>
                            <tr>
                                <td>Level 80</td>
                                <td>800</td>
                                <td>2,300</td>
                            </tr>
                            <tr>
                                <td>Level 85</td>
                                <td>800</td>
                                <td>3,100</td>
                            </tr>
                            <tr>
                                <td>Level 90</td>
                                <td>800</td>
                                <td>3,900</td>
                            </tr>
                            <tr>
                                <td>Level 95</td>
                                <td>800</td>
                                <td>4,700</td>
                            </tr>
                            <tr>
                                <td>Level 100</td>
                                <td>1,200</td>
                                <td>5,900</td>
                            </tr>
                            <tr>
                                <td>Level 105</td>
                                <td>1,200</td>
                                <td>7,100</td>
                            </tr>
                            <tr>
                                <td>Level 110</td>
                                <td>1,200</td>
                                <td>8,300</td>
                            </tr>
                            <tr>
                                <td>Level 115</td>
                                <td>1,200</td>
                                <td>9,500</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="2"><strong>Total SSR Promote Cards</strong></td>
                                <td><strong>9,500</strong></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
<div class="tab-content" id="blueprint-reqs-content">
                <h3>Blueprint Requirements by Tier</h3>
                <p>Blueprint cards are used to level up facilities that enhance rally capacity, sing, dance, management, plundering, etc.</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Blueprint Cards Per Tier</th>
                                <th>Tier 7<br/>(Purple)</th>
                                <th>Tier 8<br/>(Gold)</th>
                                <th>Tier 9<br/>(Gold)</th>
                                <th>Tier 10<br/>(Gold)</th>
                                <th>Tier 11<br/>(Gold)</th>
                                <th>Tier 12<br/>(Gold)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>1,870</td>
                                <td>2,920</td>
                                <td>4,470</td>
                                <td>6,520</td>
                                <td>8,700</td>
                                <td>9,900</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>1,970</td>
                                <td>2,920</td>
                                <td>4,670</td>
                                <td>6,520</td>
                                <td>8,700</td>
                                <td>9,900</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>2,070</td>
                                <td>3,070</td>
                                <td>4,870</td>
                                <td>6,770</td>
                                <td>8,700</td>
                                <td>9,900</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>2,170</td>
                                <td>3,220</td>
                                <td>5,070</td>
                                <td>7,020</td>
                                <td>9,000</td>
                                <td>10,000</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>2,170</td>
                                <td>3,220</td>
                                <td>5,070</td>
                                <td>7,020</td>
                                <td>9,000</td>
                                <td>10,000</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>2,270</td>
                                <td>3,370</td>
                                <td>5,270</td>
                                <td>7,270</td>
                                <td>9,000</td>
                                <td>10,000</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>2,370</td>
                                <td>3,520</td>
                                <td>5,470</td>
                                <td>7,520</td>
                                <td>9,300</td>
                                <td>11,000</td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td>2,470</td>
                                <td>3,670</td>
                                <td>5,670</td>
                                <td>7,520</td>
                                <td>9,300</td>
                                <td>11,000</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>2,470</td>
                                <td>3,670</td>
                                <td>5,670</td>
                                <td>7,770</td>
                                <td>9,300</td>
                                <td>11,000</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>2,570</td>
                                <td>3,820</td>
                                <td>5,870</td>
                                <td>8,020</td>
                                <td>9,600</td>
                                <td>11,000</td>
                            </tr>
                            <tr>
                                <td>11</td>
                                <td>2,670</td>
                                <td>3,970</td>
                                <td>6,070</td>
                                <td>8,470</td>
                                <td>9,600</td>
                                <td>11,000</td>
                            </tr>
                            <tr>
                                <td>12</td>
                                <td>2,770</td>
                                <td>3,970</td>
                                <td>6,270</td>
                                <td>-</td>
                                <td>9,600</td>
                                <td>11,000</td>
                            </tr>
                            <tr>
                                <td>13</td>
                                <td>-</td>
                                <td>4,120</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>14</td>
                                <td>-</td>
                                <td>4,270</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td><strong>Total</strong></td>
                                <td><strong>21,930</strong></td>
                                <td><strong>40,820</strong></td>
                                <td><strong>50,430</strong></td>
                                <td><strong>60,610</strong></td>
                                <td><strong>83,700</strong></td>
                                <td><strong>96,000</strong></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                
                <p>Blueprint tier information:</p>
                <ul>
                    <li>Tier 1-2: Silver quality</li>
                    <li>Tier 3-4: Green quality</li>
                    <li>Tier 5-7: Purple quality</li>
                    <li>Tier 8-18: Gold quality (Tiers 13-18 added in new patch)</li>
                </ul>
            </div>
<div class="tab-content" id="hq-upgrade-content">
                <h3>HQ Upgrade Guide</h3>
                <p>This guide shows the number of building cards needed to level up your headquarters.</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Required Cards</th>
                                <th>Total Cards</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>0</td>
                                <td>0</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>2</td>
                                <td>2</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>20</td>
                                <td>22</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>100</td>
                                <td>122</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>200</td>
                                <td>322</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>400</td>
                                <td>722</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>800</td>
                                <td>1,522</td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td>1,400</td>
                                <td>2,922</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>2,000</td>
                                <td>4,922</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>2,600</td>
                                <td>7,522</td>
                            </tr>
                            <tr>
                                <td>11</td>
                                <td>3,200</td>
                                <td>10,722</td>
                            </tr>
                            <tr>
                                <td>12</td>
                                <td>3,600</td>
                                <td>14,322</td>
                            </tr>
                            <tr>
                                <td>13</td>
                                <td>4,000</td>
                                <td>18,322</td>
                            </tr>
                            <tr>
                                <td>14</td>
                                <td>5,600</td>
                                <td>23,922</td>
                            </tr>
                            <tr>
                                <td>15</td>
                                <td>6,000</td>
                                <td>29,922</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

       <!-- Recommended Teams Section -->
<section id="recommended-teams">
    <h2>Recommended Teams</h2>
    <p>Optimized team compositions based on synergy, skills, and balanced stat distribution.</p>
    
    <div class="tabs">
        <div class="tab active" data-tab="teams-with-ur">Teams with UR</div>
        <div class="tab" data-tab="teams-without-ur">Teams without UR</div>
        <div class="tab" data-tab="gold-equipment">Gold Equipment Guide</div>
        <div class="tab" data-tab="purple-equipment">Purple Equipment Guide</div>
    </div>
    
    <div class="tab-content active" id="teams-with-ur-content">
        <h3>Optimized Teams with UR Characters</h3>
        <p>These team compositions include UR characters for maximum power with balanced stats.</p>
        
        <div class="team-container">
            <!-- Team A: R&B Focus -->
            <div class="team-card">
                <div class="team-header">
                    <h3>R&B Balance Team</h3>
                </div>
                <div class="team-members">
                    <div class="team-member">
                        <div class="member-type ur">UR</div>
                        <div>
                            <strong>Marguerite</strong>
                            <div><small>Sing: 11,261 | Dance: 6,446</small></div>
                            <div><small>Skills: Skill DMG +20%, Normal DMG +50%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ur">UR</div>
                        <div>
                            <strong>Elizabeth</strong>
                            <div><small>Sing: 6,446 | Dance: 11,261</small></div>
                            <div><small>Skills: Normal DMG +50%, Player DMG +20%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Sora</strong>
                            <div><small>Sing: 13,513 | Dance: 7,735</small></div>
                            <div><small>Skills: Normal DMG +50%, Fan Cap +10%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Nova</strong>
                            <div><small>Sing: 8,854 | Dance: 8,854</small></div>
                            <div><small>Skills: Normal DMG +50%, DMG Defense 200/s</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Ratih</strong>
                            <div><small>Sing: 7,735 | Dance: 13,513</small></div>
                            <div><small>Skills: Normal DMG +50%, Reduce Normal Atk DMG -12%</small></div>
                        </div>
                    </div>
                </div>
                <div class="team-stats">
                    <p><strong>Genre Synergy:</strong> R&B (+4% bonus)</p>
                    <p><strong>Total Base Sing:</strong> 47,809</p>
                    <p><strong>Total Base Dance:</strong> 47,809</p>
                    <p><strong>Balance Ratio:</strong> 50/50 Sing:Dance (Perfect balance)</p>
                    <p><strong>Key Skills:</strong> Normal DMG +200%, Skill DMG +20%, Defense buffs</p>
                    <p><strong>Equipment:</strong> Balanced distribution of Sing and Dance equipment</p>
                </div>
            </div>
<!-- Team B: Mixed Genre (Balanced) -->
            <div class="team-card">
                <div class="team-header">
                    <h3>Mixed Genre Balance Team</h3>
                </div>
                <div class="team-members">
                    <div class="team-member">
                        <div class="member-type ur">UR</div>
                        <div>
                            <strong>Marguerite</strong>
                            <div><small>Sing: 11,261 | Dance: 6,446</small></div>
                            <div><small>Skills: Skill DMG +20%, Normal DMG +50%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ur">UR</div>
                        <div>
                            <strong>Elizabeth</strong>
                            <div><small>Sing: 6,446 | Dance: 11,261</small></div>
                            <div><small>Skills: Normal DMG +50%, Player DMG +20%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Aurora</strong>
                            <div><small>Sing: 8,854 | Dance: 8,854</small></div>
                            <div><small>Skills: Skill DMG +20%, Normal DMG +50%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Kokoro</strong>
                            <div><small>Sing: 10,625 | Dance: 10,625</small></div>
                            <div><small>Skills: Skill DMG +20%, Normal DMG +50%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Chizuru</strong>
                            <div><small>Sing: 10,625 | Dance: 10,625</small></div>
                            <div><small>Skills: Player DMG +20%, Rally Cap +10%</small></div>
                        </div>
                    </div>
                </div>
                <div class="team-stats">
                    <p><strong>Genre Synergy:</strong> Mixed (no genre bonus)</p>
                    <p><strong>Total Base Sing:</strong> 47,811</p>
                    <p><strong>Total Base Dance:</strong> 47,811</p>
                    <p><strong>Balance Ratio:</strong> 50/50 Sing:Dance (Perfect balance)</p>
                    <p><strong>Key Skills:</strong> Normal DMG +150%, Skill DMG +60%, Player DMG +40%</p>
                    <p><strong>Equipment Focus:</strong> True balanced mix of Sing and Dance equipment</p>
                </div>
            </div>
            
            <!-- Team C: Balance Defense Team -->
            <div class="team-card">
                <div class="team-header">
                    <h3>Balanced Defense Team</h3>
                </div>
                <div class="team-members">
                    <div class="team-member">
                        <div class="member-type ur">UR</div>
                        <div>
                            <strong>Marguerite</strong>
                            <div><small>Sing: 11,261 | Dance: 6,446</small></div>
                            <div><small>Skills: Skill DMG +20%, Normal DMG +50%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ur">UR</div>
                        <div>
                            <strong>Elizabeth</strong>
                            <div><small>Sing: 6,446 | Dance: 11,261</small></div>
                            <div><small>Skills: Normal DMG +50%, Player DMG +20%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Moana</strong>
                            <div><small>Sing: 13,513 | Dance: 7,735</small></div>
                            <div><small>Skills: Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Avery</strong>
                            <div><small>Sing: 6,446 | Dance: 11,261</small></div>
                            <div><small>Skills: Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                        </div>
                    </div>
                    <div class="team-member">
                        <div class="member-type ssr">SSR</div>
                        <div>
                            <strong>Ayaka</strong>
                            <div><small>Sing: 13,513 | Dance: 7,735</small></div>
                            <div><small>Skills: Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                        </div>
                    </div>
                </div>
                <div class="team-stats">
                    <p><strong>Genre Synergy:</strong> Mixed (no genre bonus)</p>
                    <p><strong>Total Base Sing:</strong> 51,179</p>
                    <p><strong>Total Base Dance:</strong> 44,438</p>
                    <p><strong>Balance Ratio:</strong> 53.5/46.5 Sing:Dance (Slight Sing advantage)</p>
                    <p><strong>Key Skills:</strong> Normal DMG +100%, Reduce DMG -36%, Player DMG +20%</p>
                    <p><strong>Equipment Focus:</strong> Dance-focused to balance stats (Chokers & Lamborghinis)</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="tab-content" id="teams-without-ur-content">
    <h3>SSR-Only Teams</h3>
    <p>These team compositions use only SSR characters for players who don't have UR characters yet.</p>
    
    <!-- Add tabs for different team types -->
    <div class="tabs" style="margin-top: 1rem;">
        <div class="tab active" data-tab="offense-ssr">Balanced Offense</div>
        <div class="tab" data-tab="balanced-ssr">Perfect Balance</div>
        <div class="tab" data-tab="defense-ssr">Balanced Defense</div>
    </div>
<!-- Offensive SSR Teams -->
    <div class="tab-content active" id="offense-ssr-content">
        <h4>Balanced Offensive SSR Teams</h4>
        
        <!-- R&B Balanced Offensive Team -->
        <div class="team-card" style="margin-top: 1rem;">
            <div class="team-header">
                <h3>R&B Balanced Offensive</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Sora</strong>
                        <div><small>R&B | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                        <div><small>Normal DMG +50%, Fan Cap +10%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Julia</strong>
                        <div><small>R&B | Vocalist | Sing: 11,261 | Dance: 6,446</small></div>
                        <div><small>Skill DMG +20%, Car Speed +75%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Nova</strong>
                        <div><small>R&B | Dancer | Sing: 8,854 | Dance: 8,854</small></div>
                        <div><small>Normal DMG +50%, DMG Defense 200/s</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Zendaya</strong>
                        <div><small>R&B | Center | Sing: 6,446 | Dance: 11,261</small></div>
                        <div><small>Normal DMG +50%, NPC DMG +20%, Car Speed +50%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Ratih</strong>
                        <div><small>R&B | Dancer | Sing: 7,735 | Dance: 13,513</small></div>
                        <div><small>Normal DMG +50%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Genre Synergy:</strong> R&B (+6% bonus)</p>
                <p><strong>Total Base Sing:</strong> 47,809</p>
                <p><strong>Total Base Dance:</strong> 47,809</p>
                <p><strong>Balance Ratio:</strong> 50/50 Sing:Dance (Perfect balance)</p>
                <p><strong>Key Skills:</strong> Normal DMG +200%, Skill DMG +20%, Reduce Normal Atk DMG -12%</p>
                <p><strong>Equipment Recommendation:</strong> Balanced Sing and Dance equipment</p>
            </div>
        </div>
        
        <!-- Mixed Balanced Offensive Team -->
        <div class="team-card" style="margin-top: 1rem;">
            <div class="team-header">
                <h3>Mixed Genre Balanced Offense</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Sora</strong>
                        <div><small>R&B | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                        <div><small>Normal DMG +50%, Fan Cap +10%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Alice</strong>
                        <div><small>EDM | Vocalist | Sing: 11,261 | Dance: 6,446</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Aurora</strong>
                        <div><small>POP | Center | Sing: 8,854 | Dance: 8,854</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Avery</strong>
                        <div><small>HipHop | Center | Sing: 6,446 | Dance: 11,261</small></div>
                        <div><small>Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Yuuko</strong>
                        <div><small>ROCK | Dancer | Sing: 7,735 | Dance: 13,513</small></div>
                        <div><small>Normal DMG +50%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Genre Synergy:</strong> Mixed (no bonus)</p>
                <p><strong>Total Base Sing:</strong> 47,809</p>
                <p><strong>Total Base Dance:</strong> 47,809</p>
                <p><strong>Balance Ratio:</strong> 50/50 Sing:Dance (Perfect balance)</p>
                <p><strong>Key Skills:</strong> Normal DMG +150%, Skill DMG +40%, Reduce DMG -24%</p>
                <p><strong>Equipment Focus:</strong> Balanced Sing and Dance equipment</p>
            </div>
        </div>
    </div>
    
    <!-- Balanced SSR Teams -->
    <div class="tab-content" id="balanced-ssr-content">
        <h4>Perfect Balance SSR Teams</h4>
        
        <!-- Center-Heavy Balanced Team -->
        <div class="team-card" style="margin-top: 1rem;">
            <div class="team-header">
                <h3>Perfect Balance Center Team</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Claire</strong>
                        <div><small>ROCK | Center | Sing: 8,854 | Dance: 8,854</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Talia</strong>
                        <div><small>ROCK | Center | Sing: 10,625 | Dance: 10,625</small></div>
                        <div><small>Normal DMG +50%, Fan Cap +10%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Aurora</strong>
                        <div><small>POP | Center | Sing: 8,854 | Dance: 8,854</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
<div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Chizuru</strong>
                        <div><small>POP | Center | Sing: 10,625 | Dance: 10,625</small></div>
                        <div><small>Player DMG +20%, Rally Cap +10%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Kokoro</strong>
                        <div><small>EDM | Center | Sing: 10,625 | Dance: 10,625</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Genre Synergy:</strong> Mixed (no bonus)</p>
                <p><strong>Total Base Sing:</strong> 49,583</p>
                <p><strong>Total Base Dance:</strong> 49,583</p>
                <p><strong>Balance Ratio:</strong> 50/50 Sing:Dance (Perfect balance)</p>
                <p><strong>Key Skills:</strong> Normal DMG +150%, Skill DMG +60%, Player DMG +20%</p>
                <p><strong>Equipment Focus:</strong> Equal Sing and Dance equipment, can use any combination</p>
            </div>
        </div>
        
        <!-- EDM Balanced Team -->
        <div class="team-card" style="margin-top: 1rem;">
            <div class="team-header">
                <h3>EDM Balanced Team</h3>
            <div class="team-members">
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Alice</strong>
                        <div><small>EDM | Vocalist | Sing: 11,261 | Dance: 6,446</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Sari</strong>
                        <div><small>EDM | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                        <div><small>Player DMG +20%, Rally Cap +10%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Kokoro</strong>
                        <div><small>EDM | Center | Sing: 10,625 | Dance: 10,625</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Everly</strong>
                        <div><small>EDM | Center | Sing: 8,854 | Dance: 8,854</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Caroline</strong>
                        <div><small>EDM | Dancer | Sing: 6,446 | Dance: 11,261</small></div>
                        <div><small>Fan Cap +10%, DMG Attack 200/s</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Genre Synergy:</strong> EDM (+6% bonus)</p>
                <p><strong>Total Base Sing:</strong> 50,699</p>
                <p><strong>Total Base Dance:</strong> 44,921</p>
                <p><strong>Balance Ratio:</strong> 53/47 Sing:Dance (Near perfect balance)</p>
                <p><strong>Key Skills:</strong> Skill DMG +60%, Normal DMG +150%, Player DMG +20%</p>
                <p><strong>Equipment Focus:</strong> Dance-focused to balance stats perfectly</p>
            </div>
        </div>
    </div>
    
    <!-- Defensive SSR Teams -->
    <div class="tab-content" id="defense-ssr-content">
        <h4>Balanced Defensive SSR Teams</h4>
        
        <!-- Defensive Specialists Team -->
        <div class="team-card" style="margin-top: 1rem;">
            <div class="team-header">
                <h3>Balanced Defense Specialists</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Paisley</strong>
                        <div><small>ROCK | Dancer | Sing: 6,446 | Dance: 11,261</small></div>
                        <div><small>Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Moana</strong>
                        <div><small>POP | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                        <div><small>Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Avery</strong>
                        <div><small>HipHop | Center | Sing: 6,446 | Dance: 11,261</small></div>
                        <div><small>Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Ayaka</strong>
                        <div><small>HipHop | Center | Sing: 13,513 | Dance: 7,735</small></div>
                        <div><small>Reduce Skill DMG -12%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Nova</strong>
                        <div><small>R&B | Dancer | Sing: 8,854 | Dance: 8,854</small></div>
                        <div><small>Normal DMG +50%, DMG Defense 200/s</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Genre Synergy:</strong> Mixed (no bonus)</p>
                <p><strong>Total Base Sing:</strong> 48,772</p>
                <p><strong>Total Base Dance:</strong> 46,846</p>
                <p><strong>Balance Ratio:</strong> 51/49 Sing:Dance (Near perfect balance)</p>
                <p><strong>Key Skills:</strong> Reduce Skill DMG -48%, Reduce Normal Attack DMG -48%, Normal DMG +50%</p>
                <p><strong>Equipment Focus:</strong> Slight Dance focus to perfect the balance</p>
            </div>
        </div>
<!-- Mixed Defensive Team -->
        <div class="team-card" style="margin-top: 1rem;">
            <div class="team-header">
                <h3>Balanced Defense & Offense</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Ratih</strong>
                        <div><small>R&B | Dancer | Sing: 7,735 | Dance: 13,513</small></div>
                        <div><small>Normal DMG +50%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Yuuko</strong>
                        <div><small>ROCK | Dancer | Sing: 7,735 | Dance: 13,513</small></div>
                        <div><small>Normal DMG +50%, Reduce Normal Atk DMG -12%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Skylar</strong>
                        <div><small>ROCK | Vocalist | Sing: 11,261 | Dance: 6,446</small></div>
                        <div><small>Skill DMG +20%, NPC DMG +30%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Sora</strong>
                        <div><small>R&B | Vocalist | Sing: 13,513 | Dance: 7,735</small></div>
                        <div><small>Normal DMG +50%, Fan Cap +10%</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div class="member-type ssr">SSR</div>
                    <div>
                        <strong>Aurora</strong>
                        <div><small>POP | Center | Sing: 8,854 | Dance: 8,854</small></div>
                        <div><small>Skill DMG +20%, Normal DMG +50%</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Genre Synergy:</strong> Mixed (no bonus)</p>
                <p><strong>Total Base Sing:</strong> 49,098</p>
                <p><strong>Total Base Dance:</strong> 50,061</p>
                <p><strong>Balance Ratio:</strong> 49.5/50.5 Sing:Dance (Near perfect balance)</p>
                <p><strong>Key Skills:</strong> Normal DMG +200%, Skill DMG +40%, Reduce Normal Atk DMG -24%</p>
                <p><strong>Equipment Focus:</strong> Slightly Sing-focused to perfect the balance</p>
            </div>
        </div>
    </div>
</div>
    <div class="tab-content" id="gold-equipment-content">
    <h3>Gold Equipment Recommendations for Balanced Teams</h3>
    <p>Optimal gold equipment setups for balanced teams - maintaining equal Sing and Dance stats when possible.</p>
    
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Character Type</th>
                    <th>Jewelry</th>
                    <th>Car</th>
                    <th>Property</th>
                    <th>Stat Bonus</th>
                    <th>Best For</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Vocalist (High Sing)</td>
                    <td>Choker</td>
                    <td>Lamborghini</td>
                    <td>Park Mansion</td>
                    <td>+19,730 Dance, +86,000 Fans</td>
                    <td>Marguerite, Sora, Julia, Skylar, Moana, Alice, Bella, Sari, Ayaka</td>
                </tr>
                <tr>
                    <td>Dancer (High Dance)</td>
                    <td>Ring</td>
                    <td>Audi</td>
                    <td>Villa</td>
                    <td>+19,730 Sing, +86,000 Fans</td>
                    <td>Elizabeth, Ratih, Yuuko, Paisley, Savannah, Caroline, Leilani</td>
                </tr>
                <tr>
                    <td>Center (Balanced)</td>
                    <td>Ring or Choker</td>
                    <td>Audi or Lamborghini</td>
                    <td>Villa or Park Mansion</td>
                    <td>+19,730 Sing/Dance, +86,000 Fans</td>
                    <td>Zendaya, Claire, Talia, Chizuru, Aurora, Kokoro, Everly, Avery</td>
                </tr>
                <tr>
                    <td>Management Focus</td>
                    <td>Heels</td>
                    <td>Lexus</td>
                    <td>Country Manor</td>
                    <td>+7,892 Management, +86,000 Fans</td>
                    <td>Optional setup for any character if focusing on management</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <h3>Gold Equipment Team Setups for Perfect Balance</h3>
    <p>Recommended equipment combinations that maintain equal Sing and Dance stats across the team.</p>
    
    <div class="team-container">
        <!-- Perfect Balance Setup -->
        <div class="team-card">
            <div class="team-header">
                <h3>Perfect Balance Equipment</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div>
                        <strong>Vocalist 1 (High Sing)</strong>
                        <div><small>Choker + Lamborghini + Park Mansion</small></div>
                        <div><small>Adds +19,730 Dance to balance high Sing</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div>
                        <strong>Vocalist 2 (High Sing)</strong>
                        <div><small>Choker + Lamborghini + Park Mansion</small></div>
                        <div><small>Adds +19,730 Dance to balance high Sing</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div>
                        <strong>Center (Balanced)</strong>
                        <div><small>Equal combination (e.g., Ring + Lamborghini + Villa)</small></div>
                        <div><small>Keeps balanced stats balanced</small></div>
                    </div>
                </div>
<div class="team-member">
                    <div>
                        <strong>Dancer 1 (High Dance)</strong>
                        <div><small>Ring + Audi + Villa</small></div>
                        <div><small>Adds +19,730 Sing to balance high Dance</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div>
                        <strong>Dancer 2 (High Dance)</strong>
                        <div><small>Ring + Audi + Villa</small></div>
                        <div><small>Adds +19,730 Sing to balance high Dance</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Principle:</strong> Always equip Vocalists with Dance equipment and Dancers with Sing equipment</p>
                <p><strong>For Centers:</strong> Use equal combinations or adjust based on specific stats to maintain balance</p>
                <p><strong>Result:</strong> Near-perfect 50/50 balance between team Sing and Dance for optimal performance</p>
            </div>
        </div>
        
        <!-- Custom Balance Setup -->
        <div class="team-card">
            <div class="team-header">
                <h3>Custom Balance Setup</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div>
                        <strong>Unbalanced Team Example</strong>
                        <div><small>If your team has 4 Vocalists and 1 Dancer:</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div>
                        <strong>Vocalists (All 4)</strong>
                        <div><small>All with Choker + Lamborghini + Park Mansion</small></div>
                        <div><small>+78,920 Dance total from all equipment</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div>
                        <strong>Dancer</strong>
                        <div><small>Ring + Audi + Villa</small></div>
                        <div><small>+19,730 Sing from equipment</small></div>
                    </div>
                </div>
            </div>
            <div class="team-stats">
                <p><strong>Strategy:</strong> Identify stat imbalance in your team composition and correct with equipment</p>
                <p><strong>Calculate:</strong> Total base Sing and Dance, then add equipment to balance to near 50/50</p>
                <p><strong>Remember:</strong> Skills still matter! Balanced stats optimize both attack and defense</p>
            </div>
        </div>
    </div>
</div>

<div class="tab-content" id="purple-equipment-content">
    <h3>Purple Equipment Recommendations for Balanced Teams</h3>
    <p>Budget-friendly purple equipment setups that maintain balanced stats.</p>
    
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Character Type</th>
                    <th>Jewelry</th>
                    <th>Car</th>
                    <th>Property</th>
                    <th>Stat Bonus</th>
                    <th>Fan Difference</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Vocalist (High Sing)</td>
                    <td>Bracelet</td>
                    <td>Beetle</td>
                    <td>Loft</td>
                    <td>+13,730 Dance, +0 Fans</td>
                    <td>-86,000 Fans vs Gold</td>
                </tr>
                <tr>
                    <td>Dancer (High Dance)</td>
                    <td>Watch</td>
                    <td>Lotus</td>
                    <td>Penthouse</td>
                    <td>+13,730 Sing, +0 Fans</td>
                    <td>-86,000 Fans vs Gold</td>
                </tr>
                <tr>
                    <td>Center (Balanced)</td>
                    <td>Watch/Bracelet</td>
                    <td>Lotus/Beetle</td>
                    <td>Penthouse/Loft</td>
                    <td>+13,730 Sing/Dance, +0 Fans</td>
                    <td>-86,000 Fans vs Gold</td>
                </tr>
                <tr>
                    <td>Management Focus</td>
                    <td>Lingerie</td>
                    <td>Cooper</td>
                    <td>No Purple Option</td>
                    <td>+2,268 Management, +0 Fans</td>
                    <td>-86,000 Fans vs Gold</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <h3>Mixed Gold/Purple Equipment Strategy for Balance</h3>
    <p>For players with limited gold equipment, prioritize in this order to maintain stat balance:</p>
    
    <div class="team-container">
        <div class="team-card">
            <div class="team-header">
                <h3>Balancing Priority Order</h3>
            </div>
            <div class="team-members">
                <div class="team-member">
                    <div>
                        <strong>1. Properties</strong>
                        <div><small>Gold Villa/Park Mansion provide largest stat boosts to balance team</small></div>
                        <div><small>+11,810 Sing/Dance, +50,000 Fans</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div>
                        <strong>2. Cars</strong>
                        <div><small>Gold Audi/Lamborghini provide medium boosts to balance team</small></div>
                        <div><small>+5,905 Sing/Dance, +25,000 Fans</small></div>
                    </div>
                </div>
                <div class="team-member">
                    <div>
                        <strong>3. Jewelry</strong>
                        <div><small>Gold Ring/Choker provide smallest boosts to balance team</small></div>
                        <div><small>+2,015 Sing/Dance, +11,000 Fans</small></div>
                    </div>
                </div>
            </div>
<div class="team-stats">
                <p><strong>Example Mixed Setup (Vocalist):</strong></p>
                <ul>
                    <li>Gold Park Mansion (+11,810 Dance, +50,000 Fans)</li>
                    <li>Purple Beetle (+4,030 Dance)</li>
                    <li>Purple Bracelet (+1,640 Dance)</li>
                    <li><strong>Total:</strong> +17,480 Dance, +50,000 Fans</li>
                    <li><strong>Difference vs All Gold:</strong> -2,250 Dance, -36,000 Fans</li>
                </ul>
                
                <p><strong>Example Mixed Setup (Dancer):</strong></p>
                <ul>
                    <li>Gold Villa (+11,810 Sing, +50,000 Fans)</li>
                    <li>Purple Lotus (+4,030 Sing)</li>
                    <li>Purple Watch (+1,640 Sing)</li>
                    <li><strong>Total:</strong> +17,480 Sing, +50,000 Fans</li>
                    <li><strong>Difference vs All Gold:</strong> -2,250 Sing, -36,000 Fans</li>
                </ul>
            </div>
        </div>
    </div>
</div>
        <!-- Vehicle System Section -->
        <section id="vehicles">
            <h2>Vehicle System</h2>
            <p>The vehicle system unlocks new skins and boosts at each stage of advancement.</p>
            
            <div class="tabs">
                <div class="tab active" data-tab="vehicle-upgrades">Vehicle Upgrade Guide</div>
                <div class="tab" data-tab="vehicle-parts">Vehicle Parts System</div>
            </div>
            
            <div class="tab-content active" id="vehicle-upgrades-content">
                <h3>Vehicle Advancement: Detailed Explanation of Each Stage and Resources Consumed</h3>
                <p>This guide shows the Vehicle advance drawings needed to promote your vehicle to the next rank.</p>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>Star Level</th>
                                <th>Quantity of Vehicle advance drawing consumed to promote to next rank</th>
                                <th>Unlocked Skin</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>A Class</td>
                                <td>0 ★</td>
                                <td>4</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>B Class</td>
                                <td>0 ★</td>
                                <td>20</td>
                                <td>Cybertruck</td>
                            </tr>
                            <tr>
                                <td>B Class</td>
                                <td>1 ★</td>
                                <td>80</td>
                                <td>Mustang</td>
                            </tr>
                            <tr>
                                <td>C Class</td>
                                <td>0 ★</td>
                                <td>200</td>
                                <td>Cooper</td>
                            </tr>
                            <tr>
                                <td>C Class</td>
                                <td>1 ★</td>
                                <td>500</td>
                                <td>Lexas</td>
                            </tr>
                            <tr>
                                <td>C Class</td>
                                <td>2 ★</td>
                                <td>1000</td>
                                <td>Explorer</td>
                            </tr>
                            <tr>
                                <td>D Class</td>
                                <td>0 ★</td>
                                <td>1200</td>
                                <td>Hammer</td>
                            </tr>
                            <tr>
                                <td>D Class</td>
                                <td>1 ★</td>
                                <td>1400</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>D Class</td>
                                <td>2 ★</td>
                                <td>1800</td>
                                <td>Navigator</td>
                            </tr>
                            <tr>
                                <td>D Class</td>
                                <td>3 ★</td>
                                <td>2000</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>E Class</td>
                                <td>0 ★</td>
                                <td>2300</td>
                                <td>AodiQ5</td>
                            </tr>
                            <tr>
                                <td>E Class</td>
                                <td>1 ★</td>
                                <td>2600</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>E Class</td>
                                <td>2 ★</td>
                                <td>2900</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>E Class</td>
                                <td>3 ★</td>
                                <td>3200</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>E Class</td>
                                <td>4 ★</td>
                                <td>3500</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>E Class</td>
                                <td>5 ★</td>
                                <td>4000</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>S Class</td>
                                <td>0 ★</td>
                                <td>4000</td>
                                <td>Lamboginy</td>
                            </tr>
                            <tr>
                                <td>S Class</td>
                                <td>1 ★</td>
                                <td>4000</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>S Class</td>
                                <td>2 ★</td>
                                <td>4000</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>S Class</td>
                                <td>3 ★</td>
                                <td>4000</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>S Class</td>
                                <td>4 ★</td>
                                <td>4000</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>S Class</td>
                                <td>5 ★</td>
                                <td></td>
                                <td>Colinan</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="tab-content" id="vehicle-parts-content">
                <h3>Vehicle Parts System</h3>
                <p>To advance to the next vehicle level, you must first upgrade each vehicle part 5 times.</p>
                
                <div class="vehicle-parts-info">
                    <h4>Vehicle Components:</h4>
                    <ul>
                        <li><strong>Engine</strong> (5 levels per vehicle tier) - Increases sing and fan capacity</li>
                        <li><strong>Chassis</strong> (5 levels per vehicle tier) - Increases dance and fan capacity</li>
                        <li><strong>Suspension</strong> (5 levels per vehicle tier) - Increases management and fan capacity</li>
                        <li><strong>Rims</strong> (5 levels per vehicle tier) - Increases driving speed and fan capacity</li>
                    </ul>
                    
                    <h4>Upgrade Process:</h4>
                    <ol>
                        <li>Upgrade each component (Engine, Chassis, Suspension, Rims) 5 times using "Vehicle Upgrade Parts"</li>
                        <li>Once all components are fully upgraded, use "Vehicle Advance Drawings" to advance to the next vehicle level</li>
                        <li>This unlocks new vehicle skins and provides stat boosts</li>
                    </ol>
                    
                    <p><strong>Note:</strong> Each vehicle has different requirements for advancement. As shown in the table, you'll need to collect the specified number of Vehicle Advance Drawings to progress through each class from A to S.</p>
               <h4>Vehicle Parts Upgrade Requirements:</h4>
        <div class="table-container">
            
    <table>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Star Level</th>
                <th>Component 1</th>
                <th>Component 2</th>
                <th>Component 3</th>
                <th>Component 4</th>
                <th>Component 5</th>
                <th>Total</th>
                <th>Vehicle Advance Drawings</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>E Class</td>
                <td>0 ★</td>
                <td>1100</td>
                <td>1130</td>
                <td>1160</td>
                <td>1190</td>
                <td>1220</td>
                <td>23,200</td>
                <td>2300</td>
            </tr>
            <tr>
                <td>E Class</td>
                <td>1 ★</td>
                <td>1250</td>
                <td>1280</td>
                <td>1310</td>
                <td>1340</td>
                <td>1370</td>
                <td>26,200</td>
                <td>2600</td>
            </tr>
            <tr>
                <td>E Class</td>
                <td>2 ★</td>
                <td>1400</td>
                <td>1430</td>
                <td>1460</td>
                <td>1490</td>
                <td>1520</td>
                <td>29,200</td>
                <td>2900</td>
            </tr>
            <tr>
                <td>E Class</td>
                <td>3 ★</td>
                <td>1550</td>
                <td>1580</td>
                <td>1610</td>
                <td>1640</td>
                <td>1670</td>
                <td>32,200</td>
                <td>3200</td>
            </tr>
            <tr>
                <td>E Class</td>
                <td>4 ★</td>
                <td>1700</td>
                <td>1730</td>
                <td>1760</td>
                <td>1790</td>
                <td>1820</td>
                <td>35,200</td>
                <td>3500</td>
            </tr>
            <tr>
                <td>E Class</td>
                <td>5 ★</td>
                <td>1850</td>
                <td>1880</td>
                <td>1910</td>
                <td>1940</td>
                <td>1970</td>
                <td>38,200</td>
                <td>4000</td>
            </tr>
            <tr>
                <td>S Class</td>
                <td>0 ★</td>
                <td>2000</td>
                <td>2030</td>
                <td>2060</td>
                <td>2090</td>
                <td>2120</td>
                <td>41,200</td>
                <td>4000</td>
            </tr>
           <tr>
                <td>S Class</td>
                <td>1 ★</td>
                <td>2150</td>
                <td>2180</td>
                <td>2210</td>
                <td>2240</td>
                <td>2270</td>
                <td>44,200</td>
                <td>4000</td>
            </tr>
            <tr>
                <td>S Class</td>
                <td>2 ★</td>
                <td>2300</td>
                <td>2330</td>
                <td>2360</td>
                <td>2390</td>
                <td>2420</td>
                <td>47,200</td>
                <td>4000</td>
            </tr>
            <tr>
                <td>S Class</td>
                <td>3 ★</td>
                <td>2450</td>
                <td>2480</td>
                <td>2510</td>
                <td>2540</td>
                <td>2570</td>
                <td>50,200</td>
                <td>4000</td>
            </tr>
            <tr>
                <td>S Class</td>
                <td>4 ★</td>
                <td>2600</td>
                <td>2630</td>
                <td>2660</td>
                <td>2690</td>
                <td>2720</td>
                <td>53,200</td>
                <td>4000</td>
            </tr>
            <tr>
                <td>S Class</td>
                <td>5 ★</td>
                <td>2750</td>
                <td>2780</td>
                <td>2810</td>
                <td>2840</td>
                <td>2870</td>
                <td>56,200</td>
                <td></td>
            </tr>
        </tbody>
    </table>
</div>
                </tbody>
            </table>
        </div>
    </div>
</div>

        </section>

        <!-- Game Information Section -->
        <section id="game-info">
            <h2>Game Information</h2>
            <div class="tabs">
                <div class="tab active" data-tab="basics">Basics</div>
                <div class="tab" data-tab="character-types">Character Types</div>
                <div class="tab" data-tab="synergy">Synergy Bonuses</div>
                <div class="tab" data-tab="skills">Skills</div>
            </div>

            <div class="tab-content active" id="basics-content">
                <h3>Core Game Mechanics</h3>
                <p>In this music game, you'll build a team of 5 characters with unique skills, stats, and synergies to compete and perform.</p>
                <ul>
                    <li>Characters have two main stats: <strong>Base Sing</strong> (attack) and <strong>Base Dance</strong> (defense)</li>
                    <li>Characters have different positions: Vocalist, Dancer, and Center</li>
                    <li>Characters belong to different genres and get synergy bonuses when teamed together</li>
                    <li>Characters have unique skills that enhance team performance</li>
                    <li>Teams consist of 5 characters with an optimal mix of skills and stats</li>
                    <li><strong>Balance is Key:</strong> The most effective teams maintain a 50/50 balance between Sing and Dance stats</li>
                </ul>
            </div>

            <div class="tab-content" id="character-types-content">
                <h3>Character Types</h3>
                <p>Characters come in two primary types:</p>
                <ul>
                    <li><strong>UR Characters</strong>: The strongest characters with max level 120</li>
                    <li><strong>SSR Characters</strong>: Strong characters but not as powerful as UR</li>
                </ul>
                <p><strong>Important Rules:</strong></p>
                <ul>
                    <li>Only 2 UR characters can be on a team at a time</li>
                    <li>UR characters can link with high-level SSR characters for additional bonuses</li>
                </ul>
                <p><strong>Region Linking:</strong></p>
                <ul>
                    <li><strong>Bali Girls:</strong> Moana, Sari, Leilani, Ratih, and Talia can link with Bali UR characters</li>
                    <li><strong>Tokyo Girls:</strong> Yuuko, Chizuru, Kokoro, Ayaka, and Sora can link with Tokyo UR characters</li>
                </ul>
            </div>
 <div class="tab-content" id="synergy-content">
                <h3>Genre Synergy Bonuses</h3>
                <p>Characters get bonuses based on genre combinations:</p>
                <ul>
                    <li><strong>3 characters of the same genre:</strong> +2% to Sing and Dance</li>
                    <li><strong>4 characters of the same genre:</strong> +4% to Sing and Dance</li>
                    <li><strong>5 characters of the same genre:</strong> +6% to Sing and Dance</li>
                </ul>
                <p>Available genres in the game:</p>
                <ul>
                    <li>R&B</li>
                    <li>ROCK</li>
                    <li>POP</li>
                    <li>EDM</li>
                    <li>HipHop</li>
                </ul>
                
                <h3>Regional Linking System</h3>
                <p>Characters from specific regions can link with UR characters from the same region:</p>
                <ul>
                    <li><strong>Bali Team:</strong> Bali characters can link with Bali UR characters for special bonuses</li>
                    <li><strong>Tokyo Team:</strong> Tokyo characters can link with Tokyo UR characters for special bonuses</li>
                </ul>
            </div>

            <div class="tab-content" id="skills-content">
                <h3>Skills System</h3>
                <p>Skills have 5 tiers, with higher levels providing stronger effects:</p>
                <div class="skill-legend">
                    <div class="skill-level">
                        <div class="skill-level-color" style="background-color: var(--skill1-color);"></div>
                        <span>Level 1 (Grey)</span>
                    </div>
                    <div class="skill-level">
                        <div class="skill-level-color" style="background-color: var(--skill2-color);"></div>
                        <span>Level 2 (Green)</span>
                    </div>
                    <div class="skill-level">
                        <div class="skill-level-color" style="background-color: var(--skill3-color);"></div>
                        <span>Level 3 (Blue)</span>
                    </div>
                    <div class="skill-level">
                        <div class="skill-level-color" style="background-color: var(--skill4-color);"></div>
                        <span>Level 4 (Purple)</span>
                    </div>
                    <div class="skill-level">
                        <div class="skill-level-color" style="background-color: var(--skill5-color);"></div>
                        <span>Level 5 (Gold)</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Character Database Section -->
        <section id="characters">
            <h2>Character Database</h2>
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="char-genre-filter">Genre:</label>
                    <select id="char-genre-filter">
                        <option value="all">All Genres</option>
                        <option value="R&B">R&B</option>
                        <option value="ROCK">Rock</option>
                        <option value="POP">Pop</option>
                        <option value="EDM">EDM</option>
                        <option value="HipHop">Hip Hop</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="char-type-filter">Type:</label>
                    <select id="char-type-filter">
                        <option value="all">All Types</option>
                        <option value="UR">UR</option>
                        <option value="SSR">SSR</option>
                    </select>
                </div>
                
                <button id="apply-char-filter">Apply Filters</button>
                <button id="reset-char-filter">Reset Filters</button>
            </div>
            
            <div class="character-grid" id="character-grid">
                <!-- Character cards will be populated by JavaScript -->
            </div>
        </section>

        <!-- Skills & Bonuses Section -->
        <section id="skills">
            <h2>Skills & Bonuses</h2>
            <p>Understanding the different skills and bonuses is crucial for building effective teams.</p>
            
            <div class="skill-info">
                <h3>Attack Skills</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Skill</th>
                            <th>Description</th>
                            <th>Effect</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>SKILL DM</td>
                            <td>Skill Damage</td>
                            <td>Increases damage dealt by skills</td>
                        </tr>
                        <tr>
                            <td>NORMAL DM</td>
                            <td>Normal Damage</td>
                            <td>Increases damage dealt by normal attacks</td>
                        </tr>
                        <tr>
                            <td>PLAYER DM</td>
                            <td>Player Damage</td>
                            <td>Increases damage dealt to player opponents</td>
                        </tr>
                        <tr>
                            <td>NPC DM</td>
                            <td>NPC Damage</td>
                            <td>Increases damage dealt to NPC opponents</td>
                        </tr>
                        <tr>
                            <td>DMG ATK</td>
                            <td>Damage Attack</td>
                            <td>Deals damage over time (e.g., 200/s)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
<div class="skill-info">
                <h3>Defense Skills</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Skill</th>
                            <th>Description</th>
                            <th>Effect</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>REDUCE SKILL DMG</td>
                            <td>Reduce Skill Damage</td>
                            <td>Reduces skill damage received from opponents</td>
                        </tr>
                        <tr>
                            <td>REDUCE NORMAL ATTCK DMG</td>
                            <td>Reduce Normal Attack Damage</td>
                            <td>Reduces normal attack damage received from opponents</td>
                        </tr>
                        <tr>
                            <td>DMG DEF</td>
                            <td>Damage Defense</td>
                            <td>Absorbs a certain amount of damage per second</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="skill-info">
                <h3>Support Skills</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Skill</th>
                            <th>Description</th>
                            <th>Effect</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>FAN CAP</td>
                            <td>Fan Capacity</td>
                            <td>Increases fan capacity and fan gain rate</td>
                        </tr>
                        <tr>
                            <td>RALLY CAP</td>
                            <td>Rally Capacity</td>
                            <td>Increases rally capacity and rally gain rate</td>
                        </tr>
                        <tr>
                            <td>CAR SPEED</td>
                            <td>Car Speed</td>
                            <td>Increases travel speed on the map</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
<section id="character-table">
            <h2>Character Table</h2>
            <p>Complete overview of all characters, color-coded by genre and type.</p>
            
            <div class="table-container">
                <table class="char-table">
                    <thead>
                        <tr>
                            <th>Character</th>
                            <th>Type</th>
                            <th>Genre</th>
                            <th>Position</th>
                            <th>Attribute</th>
                            <th>Base Sing</th>
                            <th>Base Dance</th>
                            <th>Skills</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- R&B Characters -->
                        <tr class="ur-row rnb">
                            <td><strong>Marguerite</strong></td>
                            <td><span class="ur-badge">UR</span></td>
                            <td>R&B</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>11,261</td>
                            <td>6,446</td>
                            <td>Skill DMG +20%, Normal DMG +50%</td>
                        </tr>
                        <tr class="ur-row rnb">
                            <td><strong>Elizabeth</strong></td>
                            <td><span class="ur-badge">UR</span></td>
                            <td>R&B</td>
                            <td>Dancer</td>
                            <td>Sexy</td>
                            <td>6,446</td>
                            <td>11,261</td>
                            <td>Normal DMG +50%, Player DMG +20%</td>
                        </tr>
                        <tr class="rnb">
                            <td><strong>Sora</strong> <span style="font-size: 0.8rem; color: #666;">(Tokyo)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>R&B</td>
                            <td>Vocalist</td>
                            <td>Cute</td>
                            <td>13,513</td>
                            <td>7,735</td>
                            <td>Normal DMG +50%, Fan Cap +10%</td>
                        </tr>
                        <tr class="rnb">
                            <td><strong>Julia</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>R&B</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>11,261</td>
                            <td>6,446</td>
                            <td>Skill DMG +20%, Car Speed +75%</td>
                        </tr>
                        <tr class="rnb">
                            <td><strong>Nova</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>R&B</td>
                            <td>Dancer</td>
                            <td>Cute</td>
                            <td>8,854</td>
                            <td>8,854</td>
                            <td>Normal DMG +50%, DMG Defense 200/s</td>
                        </tr>
                        <tr class="rnb">
                            <td><strong>Zendaya</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>R&B</td>
                            <td>Center</td>
                            <td>Sexy</td>
                            <td>6,446</td>
                            <td>11,261</td>
                            <td>Normal DMG +50%, NPC DMG +20%, Car Speed +50%</td>
                        </tr>
                        <tr class="rnb">
                            <td><strong>Ratih</strong> <span style="font-size: 0.8rem; color: #666;">(Bali)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>R&B</td>
                            <td>Dancer</td>
                            <td>Sexy</td>
                            <td>7,735</td>
                            <td>13,513</td>
                            <td>Normal DMG +50%, Reduce Normal Attack DMG -12%</td>
                        </tr>
                       <!-- ROCK Characters -->
                        <tr class="rock">
                            <td><strong>Yuuko</strong> <span style="font-size: 0.8rem; color: #666;">(Tokyo)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>ROCK</td>
                            <td>Dancer</td>
                            <td>Elegant</td>
                            <td>7,735</td>
                            <td>13,513</td>
                            <td>Normal DMG +50%, Reduce Normal Attack DMG -12%</td>
                        </tr>
                        <tr class="rock">
                            <td><strong>Claire</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>ROCK</td>
                            <td>Center</td>
                            <td>Cute</td>
                            <td>8,854</td>
                            <td>8,854</td>
                            <td>Skill DMG +20%, Normal DMG +50%</td>
                        </tr>
                        <tr class="rock">
                            <td><strong>Paisley</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>ROCK</td>
                            <td>Dancer</td>
                            <td>Sexy</td>
                            <td>6,446</td>
                            <td>11,261</td>
                            <td>Reduce Skill DMG -12%, Reduce Normal Attack DMG -12%</td>
                        </tr>
                        <tr class="rock">
                            <td><strong>Skylar</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>ROCK</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>11,261</td>
                            <td>6,446</td>
                            <td>Skill DMG +20%, NPC DMG +30%</td>
                        </tr>
                        <tr class="rock">
                            <td><strong>Talia</strong> <span style="font-size: 0.8rem; color: #666;">(Bali)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>ROCK</td>
                            <td>Center</td>
                            <td>Cute</td>
                            <td>10,625</td>
                            <td>10,625</td>
                            <td>Normal DMG +50%, Fan Cap +10%</td>
                        </tr>
                        
                        <!-- POP Characters -->
                        <tr class="pop">
                            <td><strong>Chizuru</strong> <span style="font-size: 0.8rem; color: #666;">(Tokyo, Limited)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>POP</td>
                            <td>Center</td>
                            <td>Sexy</td>
                            <td>10,625</td>
                            <td>10,625</td>
                            <td>Player DMG +20%, Rally Cap +10%</td>
                        </tr>
                        <tr class="pop">
                            <td><strong>Savannah</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>POP</td>
                            <td>Dancer</td>
                            <td>Sexy</td>
                            <td>6,446</td>
                            <td>11,261</td>
                            <td>Fan Cap +10%, DMG Attack 200/s</td>
                        </tr>
                        <tr class="pop">
                            <td><strong>Aurora</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>POP</td>
                            <td>Center</td>
                            <td>Cute</td>
                            <td>8,854</td>
                            <td>8,854</td>
                            <td>Skill DMG +20%, Normal DMG +50%</td>
                        </tr>
                        <tr class="pop">
                            <td><strong>Brooklyn</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>POP</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>11,261</td>
                            <td>6,446</td>
                            <td>NPC DMG +30%, DMG Defense 200/s</td>
                        </tr>
                        <tr class="pop">
                            <td><strong>Moana</strong> <span style="font-size: 0.8rem; color: #666;">(Bali)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>POP</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>13,513</td>
                            <td>7,735</td>
                            <td>Reduce Skill DMG -12%, Reduce Normal Attack DMG -12%</td>
                        </tr>
                        <!-- EDM Characters -->
                        <tr class="edm">
                            <td><strong>Caroline</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>EDM</td>
                            <td>Dancer</td>
                            <td>Sexy</td>
                            <td>6,446</td>
                            <td>11,261</td>
                            <td>Fan Cap +10%, DMG Attack 200/s</td>
                        </tr>
                        <tr class="edm">
                            <td><strong>Kokoro</strong> <span style="font-size: 0.8rem; color: #666;">(Tokyo)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>EDM</td>
                            <td>Center</td>
                            <td>Sexy</td>
                            <td>10,625</td>
                            <td>10,625</td>
                            <td>Skill DMG +20%, Normal DMG +50%</td>
                        </tr>
                        <tr class="edm">
                            <td><strong>Everly</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>EDM</td>
                            <td>Center</td>
                            <td>Cute</td>
                            <td>8,854</td>
                            <td>8,854</td>
                            <td>Skill DMG +20%, Normal DMG +50%</td>
                        </tr>
                        <tr class="edm">
                            <td><strong>Alice</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>EDM</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>11,261</td>
                            <td>6,446</td>
                            <td>Skill DMG +20%, Normal DMG +50%</td>
                        </tr>
                        <tr class="edm">
                            <td><strong>Cindy</strong> <span style="color: var(--primary-color); font-size: 0.8rem; font-weight: bold;">(Seasonal)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>EDM</td>
                            <td>Dancer</td>
                            <td>Sexy</td>
                            <td>8,854</td>
                            <td>8,854</td>
                            <td>Skill DMG +20%, Reduce Skill DMG -12%</td>
                        </tr>
                        <tr class="edm">
                            <td><strong>Sari</strong> <span style="font-size: 0.8rem; color: #666;">(Bali, Limited)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>EDM</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>13,513</td>
                            <td>7,735</td>
                            <td>Player DMG +20%, Rally Cap +10%</td>
                        </tr>
                        
                        <!-- HipHop Characters -->
                        <tr class="hiphop">
                            <td><strong>Bella</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>HipHop</td>
                            <td>Vocalist</td>
                            <td>Elegant</td>
                            <td>11,261</td>
                            <td>6,446</td>
                            <td>Skill DMG +20%, Fan Cap +10%</td>
                        </tr>
                        <tr class="hiphop">
                            <td><strong>Avery</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>HipHop</td>
                            <td>Center</td>
                            <td>Sexy</td>
                            <td>6,446</td>
                            <td>11,261</td>
                            <td>Reduce Skill DMG -12%, Reduce Normal Attack DMG -12%</td>
                        </tr>
                        <tr class="hiphop">
                            <td><strong>Ayaka</strong> <span style="font-size: 0.8rem; color: #666;">(Tokyo)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>HipHop</td>
                            <td>Center</td>
                            <td>Cute</td>
                            <td>13,513</td>
                            <td>7,735</td>
                            <td>Reduce Skill DMG -12%, Reduce Normal Attack DMG -12%</td>
                        </tr>
                        <tr class="hiphop">
                            <td><strong>Audrey</strong></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>HipHop</td>
                            <td>Center</td>
                            <td>Cute</td>
                            <td>8,854</td>
                            <td>8,854</td>
                            <td>NPC DMG +30%, Reduce Skill DMG -12%</td>
                        </tr>
                        <tr class="hiphop">
                            <td><strong>Leilani</strong> <span style="font-size: 0.8rem; color: #666;">(Bali)</span></td>
                            <td><span class="ssr-badge">SSR</span></td>
                            <td>HipHop</td>
                            <td>Dancer</td>
                            <td>Sexy</td>
                            <td>7,735</td>
                            <td>13,513</td>
                            <td>Skill DMG +20%, Normal DMG +50%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
<!-- Character Equipment Guide Section -->
<section id="character-equipment">
    <h2>Character Equipment Guide</h2>
    <p>Recommended equipment setups for each character based on their stats and skills.</p>
    
    <div class="tabs">
        <div class="tab active" data-tab="ur-equipment">UR Characters</div>
        <div class="tab" data-tab="ssr-rb-equipment">SSR R&B</div>
        <div class="tab" data-tab="ssr-rock-equipment">SSR Rock</div>
        <div class="tab" data-tab="ssr-pop-equipment">SSR Pop</div>
        <div class="tab" data-tab="ssr-edm-equipment">SSR EDM</div>
        <div class="tab" data-tab="ssr-hiphop-equipment">SSR HipHop</div>
    </div>
    
    <div class="tab-content active" id="ur-equipment-content">
        <h3>UR Character Equipment</h3>
        <p>Optimal equipment setup for UR characters with both balanced and focused approaches.</p>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Character</th>
                        <th>Gold Equipment (Balanced)</th>
                        <th>Gold Equipment (Focused)</th>
                        <th>Purple Alternative</th>
                        <th>Stats Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Marguerite</strong><br/><small>R&B | Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Ring + Audi + Villa</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Balanced: Add Dance to balance high Sing<br/>Focused: Maximize Sing for damage output</td>
                    </tr>
                    <tr>
                        <td><strong>Elizabeth</strong><br/><small>R&B | Dancer</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Balanced: Add Sing to balance high Dance<br/>Focused: Maximize Dance for defense</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
<div class="tab-content" id="ssr-rb-equipment-content">
        <h3>SSR R&B Character Equipment</h3>
        <p>Optimal equipment setup for SSR R&B characters for balanced stat distribution.</p>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Character</th>
                        <th>Gold Equipment (Balanced)</th>
                        <th>Purple Alternative</th>
                        <th>Stats Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Sora</strong><br/><small>Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing stat to create perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Julia</strong><br/><small>Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing stat to create perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Nova</strong><br/><small>Dancer</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain balance with equipment</td>
                    </tr>
                    <tr>
                        <td><strong>Zendaya</strong><br/><small>Center</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance stat to create perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Ratih</strong><br/><small>Dancer</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance stat to create perfect balance</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="tab-content" id="ssr-rock-equipment-content">
        <h3>SSR Rock Character Equipment</h3>
        <p>Optimal equipment setup for SSR Rock characters for balanced stat distribution.</p>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Character</th>
                        <th>Gold Equipment (Balanced)</th>
                        <th>Purple Alternative</th>
                        <th>Stats Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Yuuko</strong><br/><small>Dancer</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance for better overall performance</td>
                    </tr>
                    <tr>
                        <td><strong>Claire</strong><br/><small>Center</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Paisley</strong><br/><small>Dancer</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance to enhance defensive capabilities</td>
                    </tr>
                    <tr>
                        <td><strong>Skylar</strong><br/><small>Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing to maximize Skill DMG +20%</td>
                    </tr>
                    <tr>
                        <td><strong>Talia</strong><br/><small>Center</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="tab-content" id="ssr-pop-equipment-content">
        <h3>SSR Pop Character Equipment</h3>
        <p>Optimal equipment setup for SSR Pop characters for balanced stat distribution.</p>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Character</th>
                        <th>Gold Equipment (Balanced)</th>
                        <th>Purple Alternative</th>
                        <th>Stats Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Chizuru</strong><br/><small>Center</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Savannah</strong><br/><small>Dancer</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance to maximize Fan Cap +10%</td>
                    </tr>
                    <tr>
                        <td><strong>Aurora</strong><br/><small>Center</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Brooklyn</strong><br/><small>Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing to maximize NPC DMG +30%</td>
                    </tr>
                    <tr>
                        <td><strong>Moana</strong><br/><small>Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing and enhance damage reduction</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
<div class="tab-content" id="ssr-edm-equipment-content">
        <h3>SSR EDM Character Equipment</h3>
        <p>Optimal equipment setup for SSR EDM characters for balanced stat distribution.</p>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Character</th>
                        <th>Gold Equipment (Balanced)</th>
                        <th>Purple Alternative</th>
                        <th>Stats Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Caroline</strong><br/><small>Dancer</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance to maximize DMG Attack 200/s</td>
                    </tr>
                    <tr>
                        <td><strong>Kokoro</strong><br/><small>Center</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Everly</strong><br/><small>Center</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Alice</strong><br/><small>Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing to maximize Skill DMG +20%</td>
                    </tr>
                    <tr>
                        <td><strong>Cindy</strong><br/><small>Dancer (Seasonal)</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Sari</strong><br/><small>Vocalist (Bali)</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing to enhance Player DMG +20%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="tab-content" id="ssr-hiphop-equipment-content">
        <h3>SSR HipHop Character Equipment</h3>
        <p>Optimal equipment setup for SSR HipHop characters for balanced stat distribution.</p>
        
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Character</th>
                        <th>Gold Equipment (Balanced)</th>
                        <th>Purple Alternative</th>
                        <th>Stats Focus</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Bella</strong><br/><small>Vocalist</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing to maximize Skill DMG +20%</td>
                    </tr>
                    <tr>
                        <td><strong>Avery</strong><br/><small>Center</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance to strengthen defensive capabilities</td>
                    </tr>
                    <tr>
                        <td><strong>Ayaka</strong><br/><small>Center (Tokyo)</small></td>
                        <td>Choker + Lamborghini + Park Mansion</td>
                        <td>Bracelet + Beetle + Loft</td>
                        <td>Add Dance to balance high Sing and enhance damage reduction</td>
                    </tr>
                    <tr>
                        <td><strong>Audrey</strong><br/><small>Center</small></td>
                        <td>Ring/Choker + Audi/Lamborghini + Villa/Park Mansion</td>
                        <td>Watch/Bracelet + Lotus/Beetle + Penthouse/Loft</td>
                        <td>Already balanced with equal Sing/Dance, maintain perfect balance</td>
                    </tr>
                    <tr>
                        <td><strong>Leilani</strong><br/><small>Dancer (Bali)</small></td>
                        <td>Ring + Audi + Villa</td>
                        <td>Watch + Lotus + Penthouse</td>
                        <td>Add Sing to balance high Dance to maximize Normal DMG +50%</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>
    </main>

<footer>
    <p>Top Girl Team Builder © 2025 - Created by Upset Llama</p>
</footer>

<!-- Leaflet.js for interactive map -->
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<script>
        // Equipment data
const equipmentData = {
    jewelry: [
        {
            name: "Ring",
            type: "Jewelry",
            rarity: "gold",
            sing: 2015,
            dance: 0,
            management: 0,
            fans: 11000
        },
        {
            name: "Choker",
            type: "Jewelry",
            rarity: "gold",
            sing: 0,
            dance: 2015,
            management: 0,
            fans: 11000
        },
        {
            name: "Heels",
            type: "Jewelry",
            rarity: "gold",
            sing: 0,
            dance: 0,
            management: 806,
            fans: 11000
        },
        {
            name: "Watch",
            type: "Jewelry",
            rarity: "purple",
            sing: 1640,
            dance: 0,
            management: 0,
            fans: 0
        },
        {
            name: "Bracelet",
            type: "Jewelry",
            rarity: "purple",
            sing: 0,
            dance: 1640,
            management: 0,
            fans: 0
        },
        {
            name: "Lingerie",
            type: "Jewelry",
            rarity: "purple",
            sing: 0,
            dance: 0,
            management: 656,
            fans: 0
        }
    ],
    cars: [
        {
            name: "Audi",
            type: "Car",
            rarity: "gold",
            sing: 5905,
            dance: 0,
            management: 0,
            fans: 25000
        },
        {
            name: "Lamborghini",
            type: "Car",
            rarity: "gold",
            sing: 0,
            dance: 5905,
            management: 0,
            fans: 25000
        },
        {
            name: "Lexus",
            type: "Car",
            rarity: "gold",
            sing: 0,
            dance: 0,
            management: 2362,
            fans: 25000
        },
        {
            name: "Lotus",
            type: "Car",
            rarity: "purple",
            sing: 4030,
            dance: 0,
            management: 0,
            fans: 0
        },
        {
            name: "Beetle",
            type: "Car",
            rarity: "purple",
            sing: 0,
            dance: 4030,
            management: 0,
            fans: 0
        },
        {
            name: "Cooper",
            type: "Car",
            rarity: "purple",
            sing: 0,
            dance: 0,
            management: 1612,
            fans: 0
        }
    ],
    properties: [
        {
            name: "Villa",
            type: "Property",
            rarity: "gold",
            sing: 11810,
            dance: 0,
            management: 0,
            fans: 50000
        },
        {
            name: "Park Mansion",
            type: "Property",
            rarity: "gold",
            sing: 0,
            dance: 11810,
            management: 0,
            fans: 50000
        },
        {
            name: "Country Manor",
            type: "Property",
            rarity: "gold",
            sing: 0,
            dance: 0,
            management: 4724,
            fans: 50000
        },
        {
            name: "Penthouse",
            type: "Property",
            rarity: "purple",
            sing: 8060,
            dance: 0,
            management: 0,
            fans: 0
        },
        {
            name: "Loft",
            type: "Property",
            rarity: "purple",
            sing: 0,
            dance: 8060,
            management: 0,
            fans: 0
        }
    ]
};

// Character data from the Excel spreadsheet
const characterData = [{
        "GENR": "R&B",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "UR",
        "GIRL": "Marguerite",
        "SKILL_DM": 0.2,
        "NORMAL_DM": 0.5,
        "BASE_SING": 11261,
        "BASE_DANCE": 6446
    },
    {
        "GENR": "R&B",
        "Attrib": "Sexy",
        "POSITION": "Dancer",
        "TYPE": "UR",
        "GIRL": "Elizabeth",
        "NORMAL_DM": 0.5,
        "PLAYER_DM": 0.2,
        "BASE_SING": 6446,
        "BASE_DANCE": 11261
    },
    {
        "GENR": "R&B",
        "Attrib": "Cute",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Sora",
        "NORMAL_DM": 0.5,
        "FAN_CAP": 0.1,
        "BASE_SING": 13513,
        "BASE_DANCE": 7735,
        "REGION": "Tokyo"
    },
    {
        "GENR": "R&B",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Julia",
        "SKILL_DM": 0.2,
        "CAR_SPEED": 0.75,
        "BASE_SING": 11261,
        "BASE_DANCE": 6446
    },
    {
        "GENR": "R&B",
        "Attrib": "Cute",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Nova",
        "NORMAL_DM": 0.5,
        "DMG_DEF": "200/s",
        "BASE_SING": 8854,
        "BASE_DANCE": 8854
    },
    {
        "GENR": "R&B",
        "Attrib": "Sexy",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Zendaya",
        "NORMAL_DM": 0.5,
        "NPC_DM": 0.2,
        "CAR_SPEED": 0.5,
        "BASE_SING": 6446,
        "BASE_DANCE": 11261
    },
    {
        "GENR": "R&B",
        "Attrib": "Sexy",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Ratih",  // Corrected spelling from Raith
        "NORMAL_DM": 0.5,
        "REDUCE_NORMAL_ATTCK_DMG": -0.12,
        "BASE_SING": 7735,
        "BASE_DANCE": 13513,
        "REGION": "Bali"
    },
    {
        "GENR": "ROCK",
        "Attrib": "Elegant",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Yuuko",
        "NORMAL_DM": 0.5,
        "REDUCE_NORMAL_ATTCK_DMG": -0.12,
        "BASE_SING": 7735,
        "BASE_DANCE": 13513,
        "REGION": "Tokyo"
    },
    {
        "GENR": "ROCK",
        "Attrib": "Cute",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Claire",
        "SKILL_DM": 0.2,
        "NORMAL_DM": 0.5,
        "BASE_SING": 8854,
        "BASE_DANCE": 8854
    },
    {
        "GENR": "ROCK",
        "Attrib": "Sexy",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Paisley",
        "REDUCE_SKILL_DMG": -0.12,
        "REDUCE_NORMAL_ATTCK_DMG": -0.12,
        "BASE_SING": 6446,
        "BASE_DANCE": 11261
    },
    {
        "GENR": "ROCK",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Skylar",
        "SKILL_DM": 0.2,
        "NPC_DM": 0.3,
        "BASE_SING": 11261,
        "BASE_DANCE": 6446
    },
    {
        "GENR": "ROCK",
        "Attrib": "Cute",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Talia",
        "NORMAL_DM": 0.5,
        "FAN_CAP": 0.1,
        "BASE_SING": 10625,
        "BASE_DANCE": 10625,
        "REGION": "Bali"
    },
    {
        "GENR": "POP",
        "Attrib": "Sexy",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Chizuru",
        "PLAYER_DM": 0.2,
        "RALLY_CAP": 0.1,
        "BASE_SING": 10625,
        "BASE_DANCE": 10625,
        "REGION": "Tokyo",
        "LIMITED": true
    },
    {
        "GENR": "POP",
        "Attrib": "Sexy",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Savannah",
        "FAN_CAP": 0.1,
        "DMG_ATK": "200/s",
        "BASE_SING": 6446,
        "BASE_DANCE": 11261
    },
    {
        "GENR": "POP",
        "Attrib": "Cute",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Aurora",
        "SKILL_DM": 0.2,
        "NORMAL_DM": 0.5,
        "BASE_SING": 8854,
        "BASE_DANCE": 8854
    },
    {
        "GENR": "POP",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Brooklyn",
        "NPC_DM": 0.3,
        "DMG_DEF": "200/s",
        "BASE_SING": 11261,
        "BASE_DANCE": 6446
    },
    {
        "GENR": "POP",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Moana",
        "REDUCE_SKILL_DMG": -0.12,
        "REDUCE_NORMAL_ATTCK_DMG": -0.12,
        "BASE_SING": 13513,
        "BASE_DANCE": 7735,
        "REGION": "Bali"
    },
    {
        "GENR": "EDM",
        "Attrib": "Sexy",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Caroline",
        "FAN_CAP": 0.1,
        "DMG_ATK": "200/s",
        "BASE_SING": 6446,
        "BASE_DANCE": 11261
    },
    {
        "GENR": "EDM",
        "Attrib": "Sexy",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Kokoro",
        "SKILL_DM": 0.2,
        "NORMAL_DM": 0.5,
        "BASE_SING": 10625,
        "BASE_DANCE": 10625,
        "REGION": "Tokyo"
    },
    {
        "GENR": "EDM",
        "Attrib": "Cute",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Everly",
        "SKILL_DM": 0.2,
        "NORMAL_DM": 0.5,
        "BASE_SING": 8854,
        "BASE_DANCE": 8854
    },
    {
        "GENR": "EDM",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Alice",
        "SKILL_DM": 0.2,
        "NORMAL_DM": 0.5,
        "BASE_SING": 11261,
        "BASE_DANCE": 6446
    },
    {
        "GENR": "EDM",
        "Attrib": "Sexy",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Cindy",
        "SKILL_DM": 0.2,
        "REDUCE_SKILL_DMG": -0.12,
        "BASE_SING": 8854,
        "BASE_DANCE": 8854,
        "SEASONAL": true
    },
    {
        "GENR": "EDM",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Sari",
        "PLAYER_DM": 0.2,
        "RALLY_CAP": 0.1,
        "BASE_SING": 13513,
        "BASE_DANCE": 7735,
        "REGION": "Bali",
        "LIMITED": true
    },
    {
        "GENR": "HipHop",
        "Attrib": "Elegant",
        "POSITION": "Vocalist",
        "TYPE": "SSR",
        "GIRL": "Bella",
        "SKILL_DM": 0.2,
        "FAN_CAP": 0.1,
        "BASE_SING": 11261,
        "BASE_DANCE": 6446
    },
    {
        "GENR": "HipHop",
        "Attrib": "Sexy",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Avery",
        "REDUCE_SKILL_DMG": -0.12,
        "REDUCE_NORMAL_ATTCK_DMG": -0.12,
        "BASE_SING": 6446,
        "BASE_DANCE": 11261
    },
    {
        "GENR": "HipHop",
        "Attrib": "Cute",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Ayaka",
        "REDUCE_SKILL_DMG": -0.12,
        "REDUCE_NORMAL_ATTCK_DMG": -0.12,
        "BASE_SING": 13513,
        "BASE_DANCE": 7735,
        "REGION": "Tokyo"
    },
    {
        "GENR": "HipHop",
        "Attrib": "Cute",
        "POSITION": "Center",
        "TYPE": "SSR",
        "GIRL": "Audrey",
        "NPC_DM": 0.3,
        "REDUCE_SKILL_DMG": -0.12,
        "BASE_SING": 8854,
        "BASE_DANCE": 8854
    },
    {
        "GENR": "HipHop",
        "Attrib": "Sexy",
        "POSITION": "Dancer",
        "TYPE": "SSR",
        "GIRL": "Leilani",
        "SKILL_DM": 0.2,
        "NORMAL_DM": 0.5,
        "BASE_SING": 7735,
        "BASE_DANCE": 13513,
        "REGION": "Bali"
    }
];

// DOM elements
const tabs = document.querySelectorAll('.tab');
const tabContents = document.querySelectorAll('.tab-content');
const characterGrid = document.getElementById('character-grid');
const characterSelectionList = document.getElementById('character-selection-list');
const selectedTeam = document.getElementById('selected-team');
const noCharactersMessage = document.getElementById('no-characters-message');
const teamStats = document.getElementById('team-stats');
const synergyInfo = document.getElementById('synergy-info');
const skillSummary = document.getElementById('skill-summary');
const teamCompositionWarning = document.getElementById('team-composition-warning');
const resetTeamBtn = document.getElementById('reset-team');

// Filters
const genreFilter = document.getElementById('genre-filter');
const typeFilter = document.getElementById('type-filter');
const positionFilter = document.getElementById('position-filter');
const charGenreFilter = document.getElementById('char-genre-filter');
const charTypeFilter = document.getElementById('char-type-filter');
const applyCharFilterBtn = document.getElementById('apply-char-filter');
const resetCharFilterBtn = document.getElementById('reset-char-filter');

// Tab functionality
document.addEventListener('DOMContentLoaded', function() {
    // Fix for all tab systems
    const allTabGroups = document.querySelectorAll('.tabs');
    
    allTabGroups.forEach(tabGroup => {
        const tabs = tabGroup.querySelectorAll('.tab');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                const parentSection = tabGroup.closest('section');
                
                // Deactivate all tabs and contents in this section
                parentSection.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                parentSection.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                
                // Also check for nested tab content within the section
                document.querySelectorAll(`#${tabId}-content`).forEach(content => {
                    if (parentSection.contains(content)) {
                        content.classList.add('active');
                    }
                });
                
                // Activate selected tab
                tab.classList.add('active');
                const tabContent = parentSection.querySelector(`#${tabId}-content`);
                if (tabContent) {
                    tabContent.classList.add('active');
                } else {
                    console.warn(`Tab content #${tabId}-content not found`);
                }
            });
        });
    });
});
// Team state
let currentTeam = [];
// Team state for equipment
let teamEquipment = {};

// Create equipment dropdowns
function createEquipmentDropdowns(characterName) {
    const equipmentDiv = document.createElement('div');
    equipmentDiv.className = 'equipment-selector';
    
    // Initialize equipment in teamEquipment if not exists
    if (!teamEquipment[characterName]) {
        teamEquipment[characterName] = {
            jewelry: null,
            car: null,
            property: null
        };
    }
    
    // Jewelry selector
    const jewelryDiv = document.createElement('div');
    const jewelryLabel = document.createElement('h4');
    jewelryLabel.textContent = 'Jewelry:';
    const jewelrySelect = document.createElement('select');
    jewelrySelect.className = 'equipment-dropdown';
    jewelrySelect.id = `jewelry-${characterName}`;
    
    // Add default option
    jewelrySelect.innerHTML = '<option value="">None</option>';
    
    // Add jewelry options
    equipmentData.jewelry.forEach(item => {
        const option = document.createElement('option');
        option.value = item.name;
        option.textContent = `${item.name} (${item.rarity.toUpperCase()}) - ${getEquipmentStats(item)}`;
        jewelrySelect.appendChild(option);
    });
    
    // Set selected value if exists
    if (teamEquipment[characterName].jewelry) {
        jewelrySelect.value = teamEquipment[characterName].jewelry;
    }
    
    // Add event listener
    jewelrySelect.addEventListener('change', (e) => {
        teamEquipment[characterName].jewelry = e.target.value;
        updateTeamStatsEnhanced();
    });
    
    jewelryDiv.appendChild(jewelryLabel);
    jewelryDiv.appendChild(jewelrySelect);
    equipmentDiv.appendChild(jewelryDiv);
    
    // Car selector
    const carDiv = document.createElement('div');
    const carLabel = document.createElement('h4');
    carLabel.textContent = 'Car:';
    const carSelect = document.createElement('select');
    carSelect.className = 'equipment-dropdown';
    carSelect.id = `car-${characterName}`;
    
    // Add default option
    carSelect.innerHTML = '<option value="">None</option>';
    
    // Add car options
    equipmentData.cars.forEach(item => {
        const option = document.createElement('option');
        option.value = item.name;
        option.textContent = `${item.name} (${item.rarity.toUpperCase()}) - ${getEquipmentStats(item)}`;
        carSelect.appendChild(option);
    });
    
    // Set selected value if exists
    if (teamEquipment[characterName].car) {
        carSelect.value = teamEquipment[characterName].car;
    }
    
    // Add event listener
    carSelect.addEventListener('change', (e) => {
        teamEquipment[characterName].car = e.target.value;
        updateTeamStatsEnhanced();
    });
    
    carDiv.appendChild(carLabel);
    carDiv.appendChild(carSelect);
    equipmentDiv.appendChild(carDiv);
    
    // Property selector
    const propertyDiv = document.createElement('div');
    const propertyLabel = document.createElement('h4');
    propertyLabel.textContent = 'Property:';
    const propertySelect = document.createElement('select');
    propertySelect.className = 'equipment-dropdown';
    propertySelect.id = `property-${characterName}`;
    
    // Add default option
    propertySelect.innerHTML = '<option value="">None</option>';
    
    // Add property options
    equipmentData.properties.forEach(item => {
        const option = document.createElement('option');
        option.value = item.name;
        option.textContent = `${item.name} (${item.rarity.toUpperCase()}) - ${getEquipmentStats(item)}`;
        propertySelect.appendChild(option);
    });
    
    // Set selected value if exists
    if (teamEquipment[characterName].property) {
        propertySelect.value = teamEquipment[characterName].property;
    }
    
    // Add event listener
    propertySelect.addEventListener('change', (e) => {
        teamEquipment[characterName].property = e.target.value;
        updateTeamStatsEnhanced();
    });
    
    propertyDiv.appendChild(propertyLabel);
    propertyDiv.appendChild(propertySelect);
    equipmentDiv.appendChild(propertyDiv);
    
    return equipmentDiv;
}

// Get equipment stats text
function getEquipmentStats(item) {
    let statText = '';
    
    if (item.sing > 0) {
        statText += `+${item.sing.toLocaleString()} Sing`;
    }
    
    if (item.dance > 0) {
        statText += `+${item.dance.toLocaleString()} Dance`;
    }
    
    if (item.management > 0) {
        statText += `+${item.management.toLocaleString()} Management`;
    }
    
    if (item.fans > 0) {
        if (statText) statText += ', ';
        statText += `+${item.fans.toLocaleString()} Fans`;
    }
    
    return statText;
}

// Populate character grid
function populateCharacterGrid(characters) {
    characterGrid.innerHTML = '';
    
    characters.forEach(char => {
        const card = document.createElement('div');
        card.className = `character-card ${char.TYPE.toLowerCase()}`;
        
        const header = document.createElement('div');
        header.className = 'character-header';
        
        const typeBadge = document.createElement('div');
        typeBadge.className = 'type-badge';
        typeBadge.textContent = char.TYPE;
        
        const name = document.createElement('h3');
        name.textContent = char.GIRL;
        
        // Special labels for specific regions or limited characters
        const specialInfo = [];
        if (char.REGION) {
            specialInfo.push(char.REGION);
        }
        if (char.SEASONAL) {
            specialInfo.push("Seasonal");
        }
        if (char.LIMITED) {
            specialInfo.push("Limited");
        }
        
        if (specialInfo.length > 0) {
            const specialBadge = document.createElement('span');
            specialBadge.style.fontSize = '0.8rem';
            specialBadge.style.fontWeight = 'bold';
            specialBadge.style.marginLeft = '0.5rem';
            specialBadge.style.color = '#fff';
            specialBadge.textContent = `(${specialInfo.join(", ")})`;
            name.appendChild(specialBadge);
        }
        
        header.appendChild(name);
        header.appendChild(typeBadge);
        
        const info = document.createElement('div');
        info.className = 'character-info';
        
        const genreBadge = document.createElement('span');
        genreBadge.className = 'genre-badge';
        genreBadge.textContent = char.GENR;
        
        const posBadge = document.createElement('span');
        posBadge.className = 'position-badge';
        posBadge.textContent = char.POSITION;
        
        const attrBadge = document.createElement('span');
        attrBadge.className = 'attribute-badge';
        attrBadge.textContent = char.Attrib;
        
        const badges = document.createElement('div');
        badges.appendChild(genreBadge);
        badges.appendChild(posBadge);
        badges.appendChild(attrBadge);
        
        const stats = document.createElement('div');
        stats.className = 'character-stats';
        
        const singDiv = document.createElement('div');
        singDiv.innerHTML = `<strong>Sing:</strong> ${char.BASE_SING.toLocaleString()}`;
        
        const danceDiv = document.createElement('div');
        danceDiv.innerHTML = `<strong>Dance:</strong> ${char.BASE_DANCE.toLocaleString()}`;
        
        stats.appendChild(singDiv);
        stats.appendChild(danceDiv);
        
        const skills = document.createElement('div');
        skills.className = 'character-skills';
        skills.innerHTML = '<strong>Skills:</strong><br>';
        
        // Add skills
        for (const [key, value] of Object.entries(char)) {
            if (key.includes('_DM') || key.includes('CAP') || key.includes('REDUCE') || key === 'DMG_ATK' || key === 'DMG_DEF' || key === 'CAR_SPEED') {
                const skillSpan = document.createElement('span');
                skillSpan.className = 'skill level3'; // Default to level 3
                
                let skillText = '';
                if (key === 'SKILL_DM') skillText = `Skill DMG +${value * 100}%`;
                else if (key === 'NORMAL_DM') skillText = `Normal DMG +${value * 100}%`;
                else if (key === 'PLAYER_DM') skillText = `Player DMG +${value * 100}%`;
                else if (key === 'NPC_DM') skillText = `NPC DMG +${value * 100}%`;
                else if (key === 'FAN_CAP') skillText = `Fan Cap +${value * 100}%`;
                else if (key === 'RALLY_CAP') skillText = `Rally Cap +${value * 100}%`;
                else if (key === 'REDUCE_SKILL_DMG') skillText = `Reduce Skill DMG ${value * 100}%`;
                else if (key === 'REDUCE_NORMAL_ATTCK_DMG') skillText = `Reduce Normal DMG ${value * 100}%`;
                else if (key === 'DMG_ATK') skillText = `DMG Attack ${value}`;
                else if (key === 'DMG_DEF') skillText = `DMG Defense ${value}`;
                else if (key === 'CAR_SPEED') skillText = `Car Speed +${value * 100}%`;
                
                skillSpan.textContent = skillText;
                if (skillText) {
                    skills.appendChild(skillSpan);
                    skills.appendChild(document.createElement('br'));
                }
            }
        }
        
        info.appendChild(badges);
        info.appendChild(stats);
        info.appendChild(skills);
        
        card.appendChild(header);
        card.appendChild(info);
        
        characterGrid.appendChild(card);
    });
}

// Populate character selection list
function populateCharacterSelection(characters) {
    characterSelectionList.innerHTML = '';
    
    characters.forEach(char => {
        const option = document.createElement('div');
        option.className = 'character-option';
        option.dataset.name = char.GIRL;
        
        let optionText = `<strong>${char.GIRL}</strong> (${char.TYPE}) - `;
        optionText += `<span class="genre-badge" style="padding: 2px 5px; font-size: 0.8rem;">${char.GENR}</span>`;
        optionText += `<span class="position-badge" style="padding: 2px 5px; font-size: 0.8rem;">${char.POSITION}</span>`;
        
        // Special labels for specific regions or limited characters
        if (char.REGION) {
            optionText += `<span style="color: #666; font-size: 0.8rem; margin-left: 5px;">(${char.REGION})</span>`;
        }
        if (char.SEASONAL) {
            optionText += `<span style="color: var(--primary-color); font-size: 0.8rem; font-weight: bold; margin-left: 5px;">(Seasonal)</span>`;
        }
        if (char.LIMITED) {
            optionText += `<span style="color: var(--primary-color); font-size: 0.8rem; font-weight: bold; margin-left: 5px;">(Limited)</span>`;
        }
        
        option.innerHTML = optionText;
        
        option.addEventListener('click', () => {
            addCharacterToTeam(char);
        });
        
        characterSelectionList.appendChild(option);
    });
}

// Add character to team
function addCharacterToTeam(character) {
    // Check if character is already in team
    if (currentTeam.some(char => char.GIRL === character.GIRL)) {
        return;
    }
    
    // Check team size
    if (currentTeam.length >= 5) {
        teamCompositionWarning.textContent = 'Team is already full (5/5).';
        return;
    }
    
    // Check UR characters limit
    const urCharactersInTeam = currentTeam.filter(char => char.TYPE === 'UR').length;
    if (character.TYPE === 'UR' && urCharactersInTeam >= 2) {
        teamCompositionWarning.textContent = 'Maximum 2 UR characters allowed per team.';
        return;
    }
    
    // Add character to team
    currentTeam.push(character);
    updateTeamUI();
    updateTeamStatsEnhanced();
    
    // Clear warning
    teamCompositionWarning.textContent = '';
}

// Remove character from team
function removeCharacterFromTeam(characterName) {
    currentTeam = currentTeam.filter(char => char.GIRL !== characterName);
    
    // Also remove equipment for this character
    if (teamEquipment[characterName]) {
        delete teamEquipment[characterName];
    }
    
    updateTeamUI();
    updateTeamStatsEnhanced();
    
    // Clear warning
    teamCompositionWarning.textContent = '';
}

// Update team UI
function updateTeamUI() {
    if (currentTeam.length === 0) {
        noCharactersMessage.style.display = 'block';
        selectedTeam.innerHTML = '';
        selectedTeam.appendChild(noCharactersMessage);
    } else {
        noCharactersMessage.style.display = 'none';
        selectedTeam.innerHTML = '';
        
        currentTeam.forEach(char => {
            const charDiv = document.createElement('div');
            charDiv.className = 'selected-character';
            charDiv.style.padding = '1rem';
            charDiv.style.marginBottom = '1rem';
            
            const charHeader = document.createElement('div');
            charHeader.style.display = 'flex';
            charHeader.style.justifyContent = 'space-between';
            charHeader.style.marginBottom = '0.5rem';
            
            const charInfo = document.createElement('div');
            charInfo.innerHTML = `
                <strong>${char.GIRL}</strong> (${char.TYPE}) - ${char.GENR}
                <div>
                    <small>Base Sing: ${char.BASE_SING.toLocaleString()} | Base Dance: ${char.BASE_DANCE.toLocaleString()}</small>
                </div>
            `;
            
            const removeButton = document.createElement('span');
            removeButton.className = 'remove-character';
            removeButton.dataset.name = char.GIRL;
            removeButton.textContent = '×';
            removeButton.style.cursor = 'pointer';
            
            charHeader.appendChild(charInfo);
            charHeader.appendChild(removeButton);
            
            charDiv.appendChild(charHeader);
            
            // Add equipment selector
            const equipmentDiv = createEquipmentDropdowns(char.GIRL);
            charDiv.appendChild(equipmentDiv);
            
            selectedTeam.appendChild(charDiv);
        });
        
        // Add remove event listeners
        document.querySelectorAll('.remove-character').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const charName = e.target.dataset.name;
                removeCharacterFromTeam(charName);
            });
        });
    }
    
    // Update team count in header
    const teamHeader = selectedTeam.previousElementSibling;
    teamHeader.textContent = `Selected Team (${currentTeam.length}/5)`;
}

// Calculate synergy bonus
function calculateSynergyBonus(team) {
    const genreCounts = {};
    
    team.forEach(char => {
        genreCounts[char.GENR] = (genreCounts[char.GENR] || 0) + 1;
    });
    
    let highestCount = 0;
    let highestGenre = null;
    
    for (const [genre, count] of Object.entries(genreCounts)) {
        if (count > highestCount) {
            highestCount = count;
            highestGenre = genre;
        }
    }
    
    let bonusPercentage = 0;
    
    if (highestCount >= 5) bonusPercentage = 6;
    else if (highestCount >= 4) bonusPercentage = 4;
    else if (highestCount >= 3) bonusPercentage = 2;
    
    return {
        genre: highestGenre,
        count: highestCount,
        percentage: bonusPercentage
    };
}

// Calculate equipment stats
function calculateEquipmentStats() {
    const stats = {
        sing: 0,
        dance: 0,
        management: 0,
        fans: 0,
        jewelrySing: 0,
        jewelryDance: 0,
        carSing: 0,
        carDance: 0,
        propertySing: 0,
        propertyDance: 0
    };
    
    // Loop through each character's equipment
    for (const charName in teamEquipment) {
        const charEquip = teamEquipment[charName];
        
        // Jewelry stats
        if (charEquip.jewelry) {
            const jewelry = equipmentData.jewelry.find(item => item.name === charEquip.jewelry);
            if (jewelry) {
                stats.sing += jewelry.sing;
                stats.dance += jewelry.dance;
                stats.management += jewelry.management;
                stats.fans += jewelry.fans;
                stats.jewelrySing += jewelry.sing;
                stats.jewelryDance += jewelry.dance;
            }
        }
        
        // Car stats
        if (charEquip.car) {
            const car = equipmentData.cars.find(item => item.name === charEquip.car);
            if (car) {
                stats.sing += car.sing;
                stats.dance += car.dance;
                stats.management += car.management;
                stats.fans += car.fans;
                stats.carSing += car.sing;
                stats.carDance += car.dance;
            }
        }
        
        // Property stats
        if (charEquip.property) {
            const property = equipmentData.properties.find(item => item.name === charEquip.property);
            if (property) {
                stats.sing += property.sing;
                stats.dance += property.dance;
                stats.management += property.management;
                stats.fans += property.fans;
                stats.propertySing += property.sing;
                stats.propertyDance += property.dance;
            }
        }
    }
    
    return stats;
}

// Enhanced calculations for team power
function calculateTeamPower() {
    if (currentTeam.length === 0) return null;
    
    // Base stats calculation
    let totalSing = 0;
    let totalDance = 0;
    
    // Skills tallying
    const skills = {
        SKILL_DM: 0,
        NORMAL_DM: 0,
        PLAYER_DM: 0,
        NPC_DM: 0,
        REDUCE_SKILL_DMG: 0,
        REDUCE_NORMAL_ATTCK_DMG: 0,
        FAN_CAP: 0,
        RALLY_CAP: 0,
        DMG_ATK: 0,
        DMG_DEF: 0,
        CAR_SPEED: 0
    };
    
    // Count genres for synergy
    const genreCounts = {};
   currentTeam.forEach(char => {
        // Add base stats
        totalSing += char.BASE_SING;
        totalDance += char.BASE_DANCE;
        
        // Tally skills
        for (const [key, value] of Object.entries(char)) {
            if (key in skills && typeof value === 'number') {
                skills[key] += value;
            } else if (key in skills && (key === 'DMG_ATK' || key === 'DMG_DEF')) {
                // For string values like "200/s"
                const numValue = parseInt(value);
                if (!isNaN(numValue)) {
                    skills[key] += numValue;
                }
            }
        }
        
        // Count genres
        genreCounts[char.GENR] = (genreCounts[char.GENR] || 0) + 1;
    });
    
    // Calculate genre synergy bonus
    const synergy = calculateSynergyBonus(currentTeam);
    let synergyBonus = synergy.percentage / 100;  // Convert percentage to decimal
    
    // Calculate equipment bonuses
    const equipStats = calculateEquipmentStats();
    
    // Apply all bonuses
    const baseWithEquipSing = totalSing + equipStats.sing;
    const baseWithEquipDance = totalDance + equipStats.dance;
    
    // Apply synergy bonus only
    const finalSing = baseWithEquipSing * (1 + synergyBonus);
    const finalDance = baseWithEquipDance * (1 + synergyBonus);
    
    // Balance ratio calculation
    const totalStats = baseWithEquipSing + baseWithEquipDance;
    const singPercentage = totalStats > 0 ? Math.round((baseWithEquipSing / totalStats) * 100) : 50;
    const dancePercentage = totalStats > 0 ? Math.round((baseWithEquipDance / totalStats) * 100) : 50;
    
    // Active skill power (approximation based on observations)
    const activeSkill = Math.round(
        (skills.SKILL_DM * 10000) + 
        (skills.NORMAL_DM * 8000) +
        (skills.PLAYER_DM * 5000) +
        (skills.NPC_DM * 5000)
    );
    
    // Skill bonuses percentage
    const skillBonuses = Math.round(
        (skills.SKILL_DM * 100) +
        (skills.NORMAL_DM * 100)
    );
    
    // Basic attack bonus (approximation)
    const basicAttackBonus = Math.round(skills.NORMAL_DM * 240);
    
    // Damage reduction
    const damageReduction = Math.round(
        (skills.REDUCE_SKILL_DMG + skills.REDUCE_NORMAL_ATTCK_DMG) * 100
    );
    
    return {
        totalSing,
        totalDance,
        equipStats,
        finalSing,
        finalDance,
        synergyBonus,
        synergy,
        activeSkill,
        skillBonuses,
        basicAttackBonus,
        damageReduction,
        fans: equipStats.fans,
        skills,
        singPercentage,
        dancePercentage
    };
}

// Update team stats with enhanced battle information
function updateTeamStatsEnhanced() {
    if (currentTeam.length === 0) {
        // Use the original empty team display logic
        teamStats.innerHTML = `
            <p>Base Stats:</p>
            <ul>
                <li>Total Sing (Attack): 0</li>
                <li>Total Dance (Defense): 0</li>
            </ul>
            
            <div id="equipment-stats" style="margin-top: 0.5rem;">
                <p>Equipment Bonuses:</p>
                <ul>
                    <li>Jewelry: +0 Sing, +0 Dance</li>
                    <li>Cars: +0 Sing, +0 Dance</li>
                    <li>Properties: +0 Sing, +0 Dance</li>
                    <li>Total Fans: +0</li>
                </ul>
            </div>
            
            <div class="synergy-bonus" id="synergy-info" style="margin-top: 0.5rem;">
                <p>Genre Synergy: None</p>
                <p>Synergy Bonus: +0%</p>
            </div>
            
            <p>Final Stats (with all bonuses):</p>
            <ul>
                <li>Final Sing (Attack): 0</li>
                <li>Final Dance (Defense): 0</li>
                <li>Total Fan Capacity: 0</li>
            </ul>
        `;
        
        skillSummary.innerHTML = '<li>No skills to display. Add characters to your team.</li>';
        return;
    }
    
    const teamPower = calculateTeamPower();
    if (!teamPower) return;
    
    // Enhanced stats display
    teamStats.innerHTML = `
        <p>Base Stats:</p>
        <ul>
            <li>Total Sing (Attack): ${teamPower.totalSing.toLocaleString()}</li>
            <li>Total Dance (Defense): ${teamPower.totalDance.toLocaleString()}</li>
        </ul>
        
        <div id="equipment-stats" style="margin-top: 0.5rem;">
            <p>Equipment Bonuses:</p>
            <ul>
                <li>Jewelry: +${teamPower.equipStats.jewelrySing.toLocaleString()} Sing, +${teamPower.equipStats.jewelryDance.toLocaleString()} Dance</li>
                <li>Cars: +${teamPower.equipStats.carSing.toLocaleString()} Sing, +${teamPower.equipStats.carDance.toLocaleString()} Dance</li>
                <li>Properties: +${teamPower.equipStats.propertySing.toLocaleString()} Sing, +${teamPower.equipStats.propertyDance.toLocaleString()} Dance</li>
                <li>Total Equipment Bonus: +${teamPower.equipStats.sing.toLocaleString()} Sing, +${teamPower.equipStats.dance.toLocaleString()} Dance</li>
                <li>Total Fans: +${teamPower.equipStats.fans.toLocaleString()}</li>
            </ul>
        </div>
        
        <div class="synergy-bonus" style="margin-top: 0.5rem;">
            <p>Genre Synergy: ${teamPower.synergy.genre ? `${teamPower.synergy.count}x ${teamPower.synergy.genre}` : 'None'}</p>
            <p>Synergy Bonus: +${teamPower.synergy.percentage}%</p>
        </div>
        
        <div style="margin-top: 0.5rem; padding: 0.5rem; background-color: #e8f4f8; border-radius: 4px;">
            <p><strong>Battle Stats:</strong></p>
            <ul>
                <li>Active Skill: ~${teamPower.activeSkill.toLocaleString()}</li>
                <li>Basic Attack Bonus: ~${teamPower.basicAttackBonus}%</li>
                <li>Skill Bonuses: ~${teamPower.skillBonuses}%</li>
                <li>Damage Reduction: ${Math.abs(teamPower.damageReduction)}%</li>
            </ul>
        </div>
        
        <div style="margin-top: 0.5rem; padding: 0.5rem; background-color: #f8f4e8; border-radius: 4px;">
            <p><strong>Balance Ratio:</strong> ${teamPower.singPercentage}% Sing : ${teamPower.dancePercentage}% Dance</p>
            <div style="height: 20px; background-color: #f0f0f0; border-radius: 10px; margin-top: 5px; overflow: hidden;">
                <div style="width: ${teamPower.singPercentage}%; height: 100%; background-color: var(--primary-color); float: left;"></div>
                <div style="width: ${teamPower.dancePercentage}%; height: 100%; background-color: var(--secondary-color); float: left;"></div>
            </div>
            <p style="font-size: 0.8rem; margin-top: 5px; text-align: center;">${getBattleEffectivenessMessage(teamPower.singPercentage, teamPower.dancePercentage)}</p>
        </div>
        
        <p style="margin-top: 0.5rem;"><strong>Final Stats (with all bonuses):</strong></p>
        <ul>
            <li>Final Sing (Attack): ${Math.round(teamPower.finalSing).toLocaleString()}</li>
            <li>Final Dance (Defense): ${Math.round(teamPower.finalDance).toLocaleString()}</li>
            <li>Total Fan Capacity: ${teamPower.fans.toLocaleString()}</li>
        </ul>
    `;
    
    // Update skills summary with enhanced information
    updateSkillsSummaryEnhanced(teamPower.skills);
}

// Get a message about battle effectiveness based on stat balance
function getBattleEffectivenessMessage(singPercentage, dancePercentage) {
    const diff = Math.abs(singPercentage - dancePercentage);
    
    if (diff <= 5) {
        return "Perfect Balance: Excellent battle effectiveness with equal attack and defense!";
    } else if (diff <= 10) {
        return "Good Balance: Strong overall performance with slightly favored " + (singPercentage > dancePercentage ? "attack" : "defense");
    } else if (diff <= 20) {
        return "Decent Balance: Favors " + (singPercentage > dancePercentage ? "attack over defense" : "defense over attack");
    } else if (diff <= 30) {
        return "Imbalanced: Heavily favors " + (singPercentage > dancePercentage ? "attack, vulnerable on defense" : "defense, weak on attack");
    } else {
        return "Extreme Imbalance: Very " + (singPercentage > dancePercentage ? "attack-focused, poor defense" : "defense-focused, weak attack");
    }
}

// Update skills summary with enhanced information
function updateSkillsSummaryEnhanced(skills) {
    if (currentTeam.length === 0) {
        skillSummary.innerHTML = '<li>No skills to display. Add characters to your team.</li>';
        return;
    }
    
    skillSummary.innerHTML = '';
    
    // Create skill groups
    const attackSkills = document.createElement('div');
    attackSkills.innerHTML = '<h4 style="margin-top:0.5rem;">Attack Skills:</h4>';
    
    const defenseSkills = document.createElement('div');
    defenseSkills.innerHTML = '<h4 style="margin-top:0.5rem;">Defense Skills:</h4>';
    
    const supportSkills = document.createElement('div');
    supportSkills.innerHTML = '<h4 style="margin-top:0.5rem;">Support Skills:</h4>';
    
    let hasAttackSkills = false;
    let hasDefenseSkills = false;
    let hasSupportSkills = false;

// Attack skills
    if (skills.SKILL_DM > 0) {
        const li = document.createElement('li');
        li.textContent = `Skill DMG +${(skills.SKILL_DM * 100).toFixed(0)}%`;
        attackSkills.appendChild(li);
        hasAttackSkills = true;
    }
    
    if (skills.NORMAL_DM > 0) {
        const li = document.createElement('li');
        li.textContent = `Normal DMG +${(skills.NORMAL_DM * 100).toFixed(0)}%`;
        attackSkills.appendChild(li);
        hasAttackSkills = true;
    }
    
    if (skills.PLAYER_DM > 0) {
        const li = document.createElement('li');
        li.textContent = `Player DMG +${(skills.PLAYER_DM * 100).toFixed(0)}%`;
        attackSkills.appendChild(li);
        hasAttackSkills = true;
    }
    
    if (skills.NPC_DM > 0) {
        const li = document.createElement('li');
        li.textContent = `NPC DMG +${(skills.NPC_DM * 100).toFixed(0)}%`;
        attackSkills.appendChild(li);
        hasAttackSkills = true;
    }
    
    if (skills.DMG_ATK > 0) {
        const li = document.createElement('li');
        li.textContent = `DMG Attack ${skills.DMG_ATK}/s`;
        attackSkills.appendChild(li);
        hasAttackSkills = true;
    }
    
    // Defense skills
    if (skills.REDUCE_SKILL_DMG < 0) {
        const li = document.createElement('li');
        li.textContent = `Reduce Skill DMG ${(skills.REDUCE_SKILL_DMG * 100).toFixed(0)}%`;
        defenseSkills.appendChild(li);
        hasDefenseSkills = true;
    }
    
    if (skills.REDUCE_NORMAL_ATTCK_DMG < 0) {
        const li = document.createElement('li');
        li.textContent = `Reduce Normal Attack DMG ${(skills.REDUCE_NORMAL_ATTCK_DMG * 100).toFixed(0)}%`;
        defenseSkills.appendChild(li);
        hasDefenseSkills = true;
    }
    
    if (skills.DMG_DEF > 0) {
        const li = document.createElement('li');
        li.textContent = `DMG Defense ${skills.DMG_DEF}/s`;
        defenseSkills.appendChild(li);
        hasDefenseSkills = true;
    }
    
    // Support skills
    if (skills.FAN_CAP > 0) {
        const li = document.createElement('li');
        li.textContent = `Fan Cap +${(skills.FAN_CAP * 100).toFixed(0)}%`;
        supportSkills.appendChild(li);
        hasSupportSkills = true;
    }
    
    if (skills.RALLY_CAP > 0) {
        const li = document.createElement('li');
        li.textContent = `Rally Cap +${(skills.RALLY_CAP * 100).toFixed(0)}%`;
        supportSkills.appendChild(li);
        hasSupportSkills = true;
    }
    
    if (skills.CAR_SPEED > 0) {
        const li = document.createElement('li');
        li.textContent = `Car Speed +${(skills.CAR_SPEED * 100).toFixed(0)}%`;
        supportSkills.appendChild(li);
        hasSupportSkills = true;
    }
    
    // Add skill groups to summary
    if (hasAttackSkills) {
        skillSummary.appendChild(attackSkills);
    }
    
    if (hasDefenseSkills) {
        skillSummary.appendChild(defenseSkills);
    }
    
    if (hasSupportSkills) {
        skillSummary.appendChild(supportSkills);
    }
    
    if (!hasAttackSkills && !hasDefenseSkills && !hasSupportSkills) {
        skillSummary.innerHTML = '<li>No active skills in this team.</li>';
    }
}

// Auto-recommend balanced equipment based on character stats and position
function recommendBalancedEquipment(character) {
    const equipRecommendation = {
        jewelry: null,
        car: null,
        property: null
    };
    
    // Vocalist strategy - add Dance to balance high Sing
    if (character.BASE_SING > character.BASE_DANCE) {
        // Gold equipment recommendation
        if (hasGoldEquipment()) {
            equipRecommendation.jewelry = "Choker";
            equipRecommendation.car = "Lamborghini";
            equipRecommendation.property = "Park Mansion";
        } else {
            // Purple equipment fallback
            equipRecommendation.jewelry = "Bracelet";
            equipRecommendation.car = "Beetle";
            equipRecommendation.property = "Loft";
        }
    } 
    // Dancer strategy - add Sing to balance high Dance
    else if (character.BASE_DANCE > character.BASE_SING) {
        // Gold equipment recommendation
        if (hasGoldEquipment()) {
            equipRecommendation.jewelry = "Ring";
            equipRecommendation.car = "Audi";
            equipRecommendation.property = "Villa";
        } else {
            // Purple equipment fallback
            equipRecommendation.jewelry = "Watch";
            equipRecommendation.car = "Lotus";
            equipRecommendation.property = "Penthouse";
        }
    } 
    // Center/balanced strategy - maintain equal stat distribution
    else {
        // Choose based on overall team needs
        const teamStats = calculateTeamStats();
        if (teamStats.sing < teamStats.dance) {
            // Need more Sing for balance
            if (hasGoldEquipment()) {
                equipRecommendation.jewelry = "Ring";
                equipRecommendation.car = "Audi";
                equipRecommendation.property = "Villa";
            } else {
                equipRecommendation.jewelry = "Watch";
                equipRecommendation.car = "Lotus";
                equipRecommendation.property = "Penthouse";
            }
        } else {
            // Need more Dance for balance
            if (hasGoldEquipment()) {
                equipRecommendation.jewelry = "Choker";
                equipRecommendation.car = "Lamborghini";
                equipRecommendation.property = "Park Mansion";
            } else {
                equipRecommendation.jewelry = "Bracelet";
                equipRecommendation.car = "Beetle";
                equipRecommendation.property = "Loft";
            }
        }
    }
    
    return equipRecommendation;
}
// Helper to determine if we should recommend gold equipment (can be modified based on user preference)
function hasGoldEquipment() {
    // By default, recommend gold equipment
    // This could be tied to a user preference checkbox
    return true;
}

// Calculate total team stats (simplified)
function calculateTeamStats() {
    let sing = 0;
    let dance = 0;
    
    currentTeam.forEach(char => {
        sing += char.BASE_SING;
        dance += char.BASE_DANCE;
    });
    
    return { sing, dance };
}

// Recommend team equipment
function recommendTeamEquipment() {
    if (currentTeam.length === 0) {
        teamCompositionWarning.textContent = 'Add characters to your team first.';
        return;
    }
    
    // Reset warning
    teamCompositionWarning.textContent = '';
    
    // First calculate total sing and dance to determine if we need to balance
    const baseStats = calculateTeamStats();
    const singPercent = baseStats.sing / (baseStats.sing + baseStats.dance) * 100;
    const dancePercent = baseStats.dance / (baseStats.sing + baseStats.dance) * 100;
    
    const diff = Math.abs(singPercent - dancePercent);
    
    // Apply recommendations based on balancing the whole team
    currentTeam.forEach(char => {
        let recommendation;
        
        if (diff <= 5) {
            // Team is already balanced, follow individual character's needs
            recommendation = recommendBalancedEquipment(char);
        } else if (singPercent > dancePercent) {
            // Too much sing, add dance regardless of character type
            if (hasGoldEquipment()) {
                recommendation = {
                    jewelry: "Choker",
                    car: "Lamborghini",
                    property: "Park Mansion"
                };
            } else {
                recommendation = {
                    jewelry: "Bracelet",
                    car: "Beetle",
                    property: "Loft"
                };
            }
        } else {
            // Too much dance, add sing regardless of character type
            if (hasGoldEquipment()) {
                recommendation = {
                    jewelry: "Ring",
                    car: "Audi",
                    property: "Villa"
                };
            } else {
                recommendation = {
                    jewelry: "Watch",
                    car: "Lotus",
                    property: "Penthouse"
                };
            }
        }
        
        // Apply recommendations to teamEquipment
        if (!teamEquipment[char.GIRL]) {
            teamEquipment[char.GIRL] = {};
        }
        
        teamEquipment[char.GIRL].jewelry = recommendation.jewelry;
        teamEquipment[char.GIRL].car = recommendation.car;
        teamEquipment[char.GIRL].property = recommendation.property;
    });
    
    // Update UI to reflect new equipment
    updateTeamUI();
    updateTeamStatsEnhanced();
    
    // Show confirmation message
    teamCompositionWarning.textContent = 'Balanced equipment recommendations applied!';
    teamCompositionWarning.style.color = '#4caf50'; // Success green color
    
    // Reset warning color after 3 seconds
    setTimeout(() => {
        teamCompositionWarning.style.color = 'var(--primary-color)';
    }, 3000);
}

// Filter characters for selection
function filterCharactersForSelection() {
    let filtered = [...characterData];
    
    const genre = genreFilter.value;
    const type = typeFilter.value;
    const position = positionFilter.value;
    
    if (genre !== 'all') {
        filtered = filtered.filter(char => char.GENR === genre);
    }
    
    if (type !== 'all') {
        filtered = filtered.filter(char => char.TYPE === type);
    }
    
    if (position !== 'all') {
        filtered = filtered.filter(char => char.POSITION === position);
    }
    
    return filtered;
}

// Filter characters for grid
function filterCharactersForGrid() {
    let filtered = [...characterData];
    
    const genre = charGenreFilter.value;
    const type = charTypeFilter.value;
    
    if (genre !== 'all') {
        filtered = filtered.filter(char => char.GENR === genre);
    }
    
    if (type !== 'all') {
        filtered = filtered.filter(char => char.TYPE === type);
    }
    
    return filtered;
}

// Load preset team function
function loadPresetTeam(teamType) {
    // Reset current team
    currentTeam = [];
    teamEquipment = {};
    
    // Clear warning
    teamCompositionWarning.textContent = '';
    
    // Load team based on type
    switch(teamType) {
        case 'rnb':
            // R&B Team (with URs)
            addPresetCharacter("Marguerite");
            addPresetCharacter("Elizabeth");
            addPresetCharacter("Sora");
            addPresetCharacter("Nova");
            addPresetCharacter("Ratih");
            break;
            
        case 'balanced':
            // Balanced Team (with URs)
            addPresetCharacter("Marguerite");
            addPresetCharacter("Elizabeth");
            addPresetCharacter("Aurora");
            addPresetCharacter("Kokoro");
            addPresetCharacter("Chizuru");
            break;
            
        case 'defense':
            // Defensive Team (with URs)
            addPresetCharacter("Marguerite");
            addPresetCharacter("Elizabeth");
            addPresetCharacter("Moana");
            addPresetCharacter("Avery");
            addPresetCharacter("Ayaka");
            break;
            
        case 'bali':
            // Bali Team
            addPresetCharacter("Moana");
            addPresetCharacter("Sari");
            addPresetCharacter("Leilani");
            addPresetCharacter("Ratih");
            addPresetCharacter("Talia");
            break;
            
        case 'tokyo':
            // Tokyo Team
            addPresetCharacter("Sora");
            addPresetCharacter("Yuuko");
            addPresetCharacter("Kokoro");
            addPresetCharacter("Ayaka");
            addPresetCharacter("Chizuru");
            break;
    }
    
    // Update UI
    updateTeamUI();
    updateTeamStatsEnhanced();
    
    // Show confirmation message
    teamCompositionWarning.textContent = `${teamType.toUpperCase()} preset team loaded!`;
    teamCompositionWarning.style.color = '#4caf50';
    
    // Auto-recommend equipment
    recommendTeamEquipment();
    
    // Reset warning color after 3 seconds
    setTimeout(() => {
        teamCompositionWarning.style.color = 'var(--primary-color)';
    }, 3000);
}

// Helper function to add a preset character by name
function addPresetCharacter(name) {
    const character = characterData.find(char => char.GIRL === name);
    if (character) {
        currentTeam.push(character);
    }
}

// Initialize interactive map
function initializeMap() {
    if (document.getElementById('top-girl-map')) {
        const gameMap = L.map('top-girl-map', {
            crs: L.CRS.Simple,
            minZoom: 0,   // Set minimum zoom level to prevent zooming too far out
            maxZoom: 3,   // Set maximum zoom level to allow enough detail
            zoomControl: true
        });
        
        // Set map bounds based on the square island image
        const imageUrl = 'https://i.imgur.com/UHN5aLV.jpeg'; // Replace with your actual map image URL
        const imageBounds = [[0, 0], [550, 550]]; // Square bounds matching the island image
        
        // Add the map image as a base layer
        L.imageOverlay(imageUrl, imageBounds).addTo(gameMap);
        gameMap.fitBounds(imageBounds);
        
        // Center the map on the central palace
        gameMap.setView([275, 275], 0);
        
        // Track markers
        const markers = [];
        
        // Custom Icon Factory Function
        function createCustomIcon(type, size) {
            // Determine icon size based on selection
            let iconSize;
            switch(size) {
                case 'small': iconSize = 16; break;
                case 'large': iconSize = 32; break;
                case 'medium': 
                default: iconSize = 24; break;
            }
            
            // Determine icon color based on type
            let bgColor, borderColor, textColor;
            switch(type) {
                case 'resource':
                    bgColor = '#4cd964'; // Green
                    borderColor = '#2eb944';
                    textColor = 'black';
                    break;
                case 'enemy':
                    bgColor = '#ff3b30'; // Red
                    borderColor = '#d91d12';
                    textColor = 'white';
                    break;
                case 'landmark':
                    bgColor = '#ffcc00'; // Yellow
                    borderColor = '#d6a900';
                    textColor = 'black';
                    break;
                case 'direction':
                    bgColor = '#007aff'; // Blue
                    borderColor = '#0055cc';
                    textColor = 'white';
                    break;
                default:
                    bgColor = '#8e8e93'; // Gray
                    borderColor = '#636366';
                    textColor = 'black';
            }
            
            // Create custom divIcon with better labeling
            return L.divIcon({
                className: `custom-marker ${type}`,
                html: `<div style="
                    width: ${iconSize}px; 
                    height: ${iconSize}px; 
                    background-color: ${bgColor}; 
                    border: 2px solid ${borderColor};
                    border-radius: 50%; 
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: ${textColor};
                    font-weight: bold;
                    font-size: ${iconSize/2}px;
                    box-shadow: 0 0 4px rgba(0,0,0,0.3);">
                </div>`,
                iconSize: [iconSize, iconSize],
                iconAnchor: [iconSize/2, iconSize/2]
            });
        }

        // Add marker button handler
        document.getElementById('add-marker').addEventListener('click', function() {
            const markerType = document.getElementById('marker-type').value;
            const markerSize = document.getElementById('marker-size').value;
            alert('Click on the map to place a ' + markerType + ' marker');
            
            gameMap.once('click', function(e) {
                // Create custom icon with specified type and size
                const customIcon = createCustomIcon(markerType, markerSize);
                
                // Create marker with label
                const marker = L.marker(e.latlng, {
                    icon: customIcon, 
                    draggable: true
                }).addTo(gameMap);
                
                markers.push(marker);
                
                // Add popup with name field
                const popupContent = document.createElement('div');
                popupContent.className = 'marker-popup';
                
                const title = document.createElement('strong');
                title.textContent = markerType.charAt(0).toUpperCase() + markerType.slice(1);
                popupContent.appendChild(title);
                
                const nameInput = document.createElement('input');
                nameInput.type = 'text';
                nameInput.placeholder = 'Add name';
                nameInput.style.margin = '8px 0';
                nameInput.style.width = '100%';
                nameInput.style.padding = '5px';
                
                // Add event listener to update marker label when name changes
                nameInput.addEventListener('change', function() {
                    const name = this.value.trim();
                    if (name) {
                        // Update the marker icon with the name
                        const updatedIcon = L.divIcon({
                            className: `custom-marker ${markerType}`,
                            html: `<div style="
                                width: ${customIcon.options.iconSize[0]}px; 
                                height: ${customIcon.options.iconSize[1]}px; 
                                background-color: ${getMarkerColor(markerType)}; 
                                border: 2px solid ${getMarkerBorderColor(markerType)};
                                border-radius: 50%; 
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                color: ${getMarkerTextColor(markerType)};
                                font-weight: bold;
                                font-size: ${customIcon.options.iconSize[0]/2}px;
                                box-shadow: 0 0 4px rgba(0,0,0,0.3);">
                                ${name.charAt(0).toUpperCase()}
                            </div>`,
                            iconSize: customIcon.options.iconSize,
                            iconAnchor: customIcon.options.iconAnchor
                        });
                        marker.setIcon(updatedIcon);
                        marker.name = name;
                    }
                });
                
                popupContent.appendChild(nameInput);
                
                const descriptionLabel = document.createElement('div');
                descriptionLabel.textContent = 'Description:';
                popupContent.appendChild(descriptionLabel);
                
                const descriptionInput = document.createElement('input');
                descriptionInput.type = 'text';
                descriptionInput.placeholder = 'Add description';
                descriptionInput.style.width = '100%';
                descriptionInput.style.padding = '5px';
                popupContent.appendChild(descriptionInput);
                
                const saveButton = document.createElement('button');
                saveButton.textContent = 'Save';
                saveButton.style.marginTop = '8px';
                saveButton.style.padding = '5px 10px';
                saveButton.addEventListener('click', function() {
                    marker.closePopup();
                });
                popupContent.appendChild(saveButton);
                
                marker.bindPopup(L.popup({
                    minWidth: 200
                }).setContent(popupContent));
                
                marker.openPopup();
            });
        });

// Helper functions for marker colors
        function getMarkerColor(type) {
            switch(type) {
                case 'resource': return '#4cd964'; // Green
                case 'enemy': return '#ff3b30';    // Red
                case 'landmark': return '#ffcc00'; // Yellow
                case 'direction': return '#007aff'; // Blue
                default: return '#8e8e93';         // Gray
            }
        }
        
        function getMarkerBorderColor(type) {
            switch(type) {
                case 'resource': return '#2eb944';
                case 'enemy': return '#d91d12';
                case 'landmark': return '#d6a900';
                case 'direction': return '#0055cc';
                default: return '#636366';
            }
        }
        
        function getMarkerTextColor(type) {
            switch(type) {
                case 'enemy': return 'white';
                case 'direction': return 'white';
                default: return 'black';
            }
        }
        
        // Clear markers
        document.getElementById('clear-markers').addEventListener('click', function() {
            if (markers.length === 0) {
                alert('No markers to clear.');
                return;
            }
            
            if (confirm('Are you sure you want to clear all markers?')) {
                markers.forEach(marker => gameMap.removeLayer(marker));
                markers.length = 0;
            }
        });
        
        // Add game landmarks (chambers and UR locations)
        addGameLandmarks(gameMap);
    }
}

// Add game landmarks to map
function addGameLandmarks(map) {
    // Define landmarks array properly
    const landmarks = [
        // UR locations - positioned at the volcano-shaped areas
        { name: "Paradise Bay (UR)", type: "landmark", pos: [240, 195], desc: "UR location in the North" },  
        { name: "Emerald Coast (UR)", type: "landmark", pos: [390, 280], desc: "UR location in the Southeast" }, 
        { name: "Royal Garden (UR)", type: "landmark", pos: [240, 370], desc: "UR location in the Southwest" },  
        
        // Chamber locations - positioned around the perimeter where labeled in the image
        { name: "Ubud Chamber", type: "landmark", pos: [460, 130], desc: "Northwest chamber" },      
        { name: "Uluwatu Chamber", type: "landmark", pos: [460, 410], desc: "Northeast chamber" },   
        { name: "Kuta Chamber", type: "landmark", pos: [300, 100], desc: "West chamber" },      
        { name: "Seminyak Chamber", type: "landmark", pos: [290, 460], desc: "East chamber" },  
        { name: "Jimbaran Chamber", type: "landmark", pos: [100, 90], desc: "Southwest chamber" },  
        { name: "Tanah Chamber", type: "landmark", pos: [100, 400], desc: "Southeast chamber" }      
    ];
    
    // Add markers for landmarks using better custom markers
    landmarks.forEach(landmark => {
        // Create icon based on type
        const isUR = landmark.name.includes("UR");
        
        const markerColor = isUR ? '#ff3b30' : '#007aff'; // Red for UR, Blue for chambers
        const borderColor = isUR ? '#d91d12' : '#0055cc';
        const textColor = 'white';
        
        // First letter of landmark name
        const letter = landmark.name.charAt(0);
        
        const customIcon = L.divIcon({
            className: 'landmark-marker',
            html: `<div style="
                width: 24px; 
                height: 24px; 
                background-color: ${markerColor}; 
                border: 2px solid ${borderColor};
                border-radius: 50%; 
                display: flex;
                align-items: center;
                justify-content: center;
                color: ${textColor};
                font-weight: bold;
                font-size: 12px;
                box-shadow: 0 0 4px rgba(0,0,0,0.5);">
                ${letter}
            </div>`,
            iconSize: [24, 24],
            iconAnchor: [12, 12]
        });
        
        // Add marker with custom icon and popup
        L.marker(landmark.pos, {
            icon: customIcon,
            title: landmark.name
        })
        .bindPopup(`<strong>${landmark.name}</strong><br>${landmark.desc || ''}`)
        .addTo(map);
    });
}

// Event listeners for filters
genreFilter.addEventListener('change', () => {
    populateCharacterSelection(filterCharactersForSelection());
});

typeFilter.addEventListener('change', () => {
    populateCharacterSelection(filterCharactersForSelection());
});

positionFilter.addEventListener('change', () => {
    populateCharacterSelection(filterCharactersForSelection());
});

applyCharFilterBtn.addEventListener('click', () => {
    populateCharacterGrid(filterCharactersForGrid());
});

resetCharFilterBtn.addEventListener('click', () => {
    charGenreFilter.value = 'all';
    charTypeFilter.value = 'all';
    populateCharacterGrid(characterData);
});

// Reset team
resetTeamBtn.addEventListener('click', () => {
    currentTeam = [];
    teamEquipment = {};
    updateTeamUI();
    updateTeamStatsEnhanced();
    teamCompositionWarning.textContent = '';
});

// Reset equipment
document.getElementById('reset-equipment').addEventListener('click', () => {
    teamEquipment = {};
    updateTeamUI();
    updateTeamStatsEnhanced();
});

// Add event listeners for preset team buttons
document.getElementById('load-rnb-team').addEventListener('click', () => {
    loadPresetTeam('rnb');
});

document.getElementById('load-balanced-team').addEventListener('click', () => {
    loadPresetTeam('balanced');
});

document.getElementById('load-defense-team').addEventListener('click', () => {
    loadPresetTeam('defense');
});

document.getElementById('load-bali-team').addEventListener('click', () => {
    loadPresetTeam('bali');
});

document.getElementById('load-tokyo-team').addEventListener('click', () => {
    loadPresetTeam('tokyo');
});

// Recommend balanced equipment
document.getElementById('recommend-equipment').addEventListener('click', () => {
    recommendTeamEquipment();
});

// Initialize everything
document.addEventListener('DOMContentLoaded', () => {
    // Populate character data
    populateCharacterGrid(characterData);
    populateCharacterSelection(characterData);
    
    // Initialize team equipment object
    teamEquipment = {};
    
    // Initialize map
    initializeMap();
    
    // Initial stats update
    updateTeamStatsEnhanced();
});

</script>
</body>
</html>
